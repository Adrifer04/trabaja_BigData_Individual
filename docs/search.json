[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "La primera de España",
    "section": "",
    "text": "Hola, soy Adrian Fernandez\nEsta web sirve para presentar el trabajo final individual para la asignatura “Programación y manejo de datos en la era Del Big Data”, optativa de GECO en la Facultad de Economía de la Universitat de València.\nLa web de la asignatura está aquí y los trabajos de mis compañeros de curso puedes verlos aquí.\nMi trabajo lleva por título : “La primera de España”. El objetivo es que conozcais como fue el gran triunfo que logró la selección española en el 2010, consiguiendo conquistar su primer mundial de futbol.\nEl trabajo puede verse aquí.\n\n\nReutilizarCC BY 4.0"
  },
  {
    "objectID": "prueba.html",
    "href": "prueba.html",
    "title": "Prueba de Vida",
    "section": "",
    "text": "Si puedes leer esto y ver el gráfico de abajo, tu R funciona perfectamente.\n\nCódigolibrary(ggplot2)\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"blue\", size = 3) +\n  theme_minimal()"
  },
  {
    "objectID": "prueba.html#hola-mundo",
    "href": "prueba.html#hola-mundo",
    "title": "Prueba de Vida",
    "section": "",
    "text": "Si puedes leer esto y ver el gráfico de abajo, tu R funciona perfectamente.\n\nCódigolibrary(ggplot2)\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(color = \"blue\", size = 3) +\n  theme_minimal()"
  },
  {
    "objectID": "my_trabajo_BigData.html",
    "href": "my_trabajo_BigData.html",
    "title": "La primera de España",
    "section": "",
    "text": "Para realizar el trabajo, hemos sacado los datos de la pagina webb Kaggle, una web la cual contiene millones de datos, y entre ellos, de la Champions League. Os dejamos por aqui el enlace"
  },
  {
    "objectID": "my_trabajo_BigData.html#datos",
    "href": "my_trabajo_BigData.html#datos",
    "title": "La primera de España",
    "section": "",
    "text": "Vamos a utilizar datos de la web de Kaggle. La web la encontramos aquí\n\n\n\n## INTRODUCCION\n\n\n\n## CAMINO A LA GLORIA\n\n\nPara conseguir levantar este trofeo, debes superar una fase de grupos con 3 equipos más, y una vez superado, debes pasar 3 rondas eliminatorias antes de llegar a la gran final. España lo consiguió de una manera un tanto especial, ya que perdió el primer partido de la fase de grupos, pero a partir de entonces, no volvió a perder un partido mas hasta levantar el trofeo.\n\n\n::: {.cell layout-align=“center”}\n\n\n```{.r .cell-code} library(tidyverse)\n\n\nruta_a_datos_1 &lt;- “./datos/resultados.csv” df_completo &lt;- read_csv(ruta_a_datos_1)\n\n\nPartidos_España &lt;- df_completo %&gt;% mutate(date = as.Date(date)) %&gt;% filter(tournament == “FIFA World Cup”, between(date, as.Date(“2010-06-11”), as.Date(“2010-07-11”))) %&gt;% filter(home_team == “Spain” | away_team == “Spain”) %&gt;%\n\n\nmutate(Resultado_ESP = case_when( (home_team == “Spain” & home_score &lt; away_score) ~ “Perdido”, (away_team == “Spain” & away_score &lt; home_score) ~ “Perdido”, (home_team == “Spain” & home_score &gt; away_score) ~ “Ganado”, (away_team == “Spain” & away_score &gt; home_score) ~ “Ganado” ))%&gt;%\n\n\nunite(col = “Resultado”, home_score, away_score, sep = ” - “, remove = FALSE) %&gt;%\n\n\nrename(Local = home_team, Visitante = away_team, Torneo = tournament) %&gt;% select(Local, Visitante, Resultado, Resultado_ESP)\n\n\nPartidos_España &lt;- Partidos_España %&gt;% mutate(Orden = 1:n(), Fase = c(“Grupos 1”, “Grupos 2”, “Grupos 3”, “Octavos”, “Cuartos”, “Semis”, “Final”), Rival = ifelse(Local == “Spain”, Visitante, Local))\n\n\nggplot(Partidos_España, aes(x = Orden, y = Resultado_ESP, group = 1)) + geom_path(color = “gray80”, size = 1) + geom_point(aes(color = Resultado_ESP), size = 12) + geom_text(aes(label = Resultado), color = “white”, fontface = “bold”, size = 3) + geom_text(aes(label = paste(“vs”, Rival)), vjust = -2.5, size = 3.5, fontface = “italic”) + geom_text(aes(label = Fase), vjust = 3.5, size = 3, color = “gray30”) +\n\n\n# Colores y escalas scale_color_manual(values = c(“Ganado” = “#228B22”, “Perdido” = “#CC0000”)) + scale_y_discrete(limits = c(“Perdido”, “Ganado”)) +\n\n\n# Limpieza visual theme_minimal() + labs(title = “Cronología: El camino a la estrella”, subtitle = “Resultados oficiales de cada encuentro”, x = NULL, y = NULL) + theme( panel.grid = element_blank(), axis.text = element_blank(), legend.position = “none”, plot.title = element_text(face = “bold”, size = 14) )\n\n\nPartidos_España #&gt; # A tibble: 7 × 7 #&gt; Local Visitante Resultado Resultado_ESP Orden Fase Rival #&gt;  #&gt; 1 Spain Switzerland 0 - 1 Perdido 1 Grupos 1 Switzerland #&gt; 2 Spain Honduras 2 - 0 Ganado 2 Grupos 2 Honduras #&gt; 3 Chile Spain 1 - 2 Ganado 3 Grupos 3 Chile #&gt; 4 Spain Portugal 1 - 0 Ganado 4 Octavos Portugal #&gt; 5 Paraguay Spain 0 - 1 Ganado 5 Cuartos Paraguay #&gt; 6 Germany Spain 0 - 1 Ganado 6 Semis Germany #&gt; 7 Netherlands Spain 0 - 1 Ganado 7 Final Netherlands ```\n\n\n\n::: {.cell-output-display}  ::: :::"
  },
  {
    "objectID": "my_trabajo_BigData.html#goles",
    "href": "my_trabajo_BigData.html#goles",
    "title": "La primera de España",
    "section": "3. Goles",
    "text": "3. Goles\nVamos a ver las estadísticas de goles. Lo curioso de este mundial es que España ganó metiendo pocos goles, pero encajando muy pocos también.\n3.1 Goles metidos\nEn ataque, la cosa estuvo muy repartida entre pocos jugadores. He sacado el top 3 de goleadores de la selección: Villa metió la mayoría, pero los goles decisivos de Puyol (semis) e Iniesta (final) aparecen también destacados.\n\nCódigolibrary(tidyverse)\nlibrary(janitor)\nlibrary(maps)\nlibrary(plotly)\nlibrary(ggimage)\nlibrary(cropcircles) #install.packages(\"cropcircles\")\nlibrary(magick)    \n\nruta_a_datos_1 &lt;- \"./datos/goalscorers.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\nmundial &lt;- df_completo %&gt;% \nrename(Fecha = date, Equipo_Local = home_team, Equipo_Visitante = away_team\n       , Goleador = scorer) %&gt;% \n  select(Fecha, Equipo_Local, Equipo_Visitante, Goleador) %&gt;% \n  mutate(Fecha = as.Date(Fecha)) %&gt;% \n  filter(between(Fecha, as.Date(\"2010-06-11\") , as.Date(\"2010-07-11\"))) %&gt;% \n  filter(Equipo_Local == \"Spain\"| Equipo_Visitante == \"Spain\") %&gt;% \n  count(Goleador) %&gt;% \n  arrange(desc(n)) %&gt;% \n  head(3)\n\nimagenes_goleadores &lt;- data.frame(\n  Goleador = c(\"David Villa\", \"Andrés Iniesta\", \"Carles Puyol\"),\n  Foto = c(\"villa.jpg\", \"iniesta.png\", \"puyol.jpg\")) %&gt;% \n\n  mutate(logo = file.path(\"imagenes\", Foto))\n\ntop_3 &lt;- left_join(mundial,imagenes_goleadores, by = \"Goleador\") \n\ntop_3 &lt;- top_3 %&gt;%\n  mutate(logo_circular = circle_crop(logo))\n\nmi_grafico &lt;- ggplot(top_3, aes(x = reorder(Goleador, n), y = n)) +\n  geom_col(fill = \"#DD0000\", width = 0.6) +\n  coord_flip() +\n  geom_image(aes(image = logo_circular, y = 0), size = 0.3) +\n  \n  geom_text(aes(label = n), hjust = -0.2, fontface = \"bold\", size = 3.5) +\n  \n  scale_y_continuous(expand = expansion(mult = c(0.2, 0.1))) + \n  \n  labs(\n    title = \"Goleadores de la selección\",\n    subtitle = \"Mundial Sudáfrica 2010\",\n    x = NULL, \n    y = \"Goles\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.y = element_blank(),\n    axis.text.x = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid.major.y = element_blank(),\n    panel.grid = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\nmi_grafico\n\n\n\n\n\n\n\n3.2 Goles encajados\nAquí es donde se ganó el mundial. He comparado el promedio de goles encajados por partido de las selecciones que llegaron lejos. Como se ve en el gráfico, la defensa de España fue la mejor, encajando poquísimos goles en comparación con los partidos jugados\n\nCódigolibrary(tidyverse)\nlibrary(ggimage)\nlibrary(countrycode)\n\n\nruta_a_datos_1 &lt;- \"./datos/FIFA - 2010.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\n\ntop_10_grafico &lt;- df_completo %&gt;% \n  rename(equipo = Team, \n         partidos_jugados = `Games Played`, \n         goles_contra = `Goals Against`) %&gt;% \n  mutate(equipo = case_when( equipo == \"England\" ~ \"United Kingdom\",\n                            TRUE ~ equipo)) %&gt;%\n  mutate(Goles_partido = goles_contra / partidos_jugados) %&gt;% \n  select(equipo, partidos_jugados, Goles_partido) %&gt;% \n  filter(partidos_jugados &gt;= 4) %&gt;% \n  arrange(Goles_partido) %&gt;% \n  mutate(iso2 = countrycode(equipo, origin = \"country.name\",\n                            destination = \"iso2c\")) %&gt;% \n  mutate(iso2 = tolower(iso2)) %&gt;% \n  mutate(flag_URL = paste0(\"https://hatscripts.github.io/circle-flags/flags/\", iso2, \".svg\"))\n\n\nmi_grafico &lt;- ggplot(top_10_grafico, aes(x = partidos_jugados, y = Goles_partido)) +\n  theme_minimal() +\n  \n  geom_image(aes(image = flag_URL), size = 0.08, position = position_jitter\n             (width = 0.2, height = 0.02, seed = 123)) + \n  \n  \n  labs(\n    title = \"Las mejores defensas\",\n    x = \"Partidos Jugados\",\n    y = \"Goles encajados\") +\n  scale_x_continuous(breaks = 4:7,                \n                     limits = c(3.5, 7.5),         \n                     expand = c(0, 0)) +\n  scale_y_continuous(expand = expansion(mult = c(0.1, 0.1))) +\n  \n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    panel.grid = element_blank(),\n    panel.grid.minor = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\n\nmi_grafico"
  },
  {
    "objectID": "my_trabajo_BigData.html#ranking",
    "href": "my_trabajo_BigData.html#ranking",
    "title": "La primera de España",
    "section": "RANKING",
    "text": "RANKING\nEste trofeo consiguió meter a España entre las 8 únicas selecciones que han conseguido levantar este trofeo. Aquí podemos ver el ranking, que por aquella época, pero hoy en dia también, lo domina Brasil, aunque con peligro de que Alemania la pueda superar\n\nCódigolibrary(tidyverse)\nlibrary(gt)\nlibrary(gtExtras)   \nlibrary(countrycode) \nruta_a_datos_1 &lt;- \"./datos/WorldCups.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\ntabla_preparada &lt;- df_completo %&gt;%\n  filter(Year &lt;= 2010) %&gt;% \n  rename(ganador = Winner) %&gt;%\n  mutate(ganador = case_when( \n    ganador == \"Germany FR\" ~ \"Germany\",\n    ganador == \"England\" ~ \"United Kingdom\",\n    TRUE ~ ganador)) %&gt;% \n  group_by(ganador) %&gt;% \n  summarise(n = n()) %&gt;% \n  arrange(desc(n)) %&gt;% \n  \n  \n  mutate(iso2 = countrycode(ganador, origin = \"country.name\",\n                            destination = \"iso2c\")) %&gt;%\n  mutate(iso2 = tolower(iso2)) %&gt;%\n  mutate(bandera_url = paste0(\"https://hatscripts.github.io/circle-flags/flags/\", iso2, \".svg\")) %&gt;%\n  select(bandera_url, ganador, n)\n\n\n\nmi_tabla_final &lt;- tabla_preparada %&gt;%\n  gt() %&gt;%\n  gt_img_rows(columns = bandera_url, height = 30) %&gt;%\n  cols_label(\n    bandera_url = \"\",\n    ganador = \"Selección\",\n    n = \"Títulos\") %&gt;%\n  tab_header(\n    title = md(\"**Palmarés**\"),\n    subtitle = \"Mundiales ganados hasta 2010\")%&gt;%\n  cols_align(align = \"center\", columns = n) %&gt;%\n  gt_theme_dark() %&gt;%\n  tab_style(\n    style = list(cell_text(weight = \"bold\", color = \"#FFD700\", size = pct(100))),\n    locations = cells_body(columns = n))\n\n\nmi_tabla_final\n\n\n\n\n\n\nPalmarés\n\n\nMundiales ganados hasta 2010\n\n\n\nSelección\nTítulos\n\n\n\n\n\nBrazil\n5\n\n\n\nItaly\n4\n\n\n\nGermany\n3\n\n\n\nArgentina\n2\n\n\n\nUruguay\n2\n\n\n\nFrance\n1\n\n\n\nSpain\n1\n\n\n\nUnited Kingdom\n1\n\n\n\n\n\n\n\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.1 (2025-06-13 ucrt)\n os       Windows 11 x64 (build 26100)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2026-01-04\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\Users\\\\adrib\\\\AppData\\\\Local\\\\Programs\\\\Quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version date (UTC) lib source\n base64enc           0.1-3   2015-07-28 [1] CRAN (R 4.5.0)\n bit                 4.6.0   2025-03-06 [1] CRAN (R 4.5.1)\n bit64               4.6.0-1 2025-01-16 [1] CRAN (R 4.5.1)\n cli                 3.6.5   2025-04-23 [1] CRAN (R 4.5.1)\n clipr               0.8.0   2022-02-22 [1] CRAN (R 4.5.1)\n commonmark          2.0.0   2025-07-07 [1] CRAN (R 4.5.1)\n countrycode       * 1.6.1   2025-03-31 [1] CRAN (R 4.5.1)\n crayon              1.5.3   2024-06-20 [1] CRAN (R 4.5.1)\n cropcircles       * 0.2.4   2023-12-03 [1] CRAN (R 4.5.2)\n crosstalk           1.2.2   2025-08-26 [1] CRAN (R 4.5.1)\n curl                7.0.0   2025-08-19 [1] CRAN (R 4.5.1)\n data.table          1.17.8  2025-07-10 [1] CRAN (R 4.5.1)\n desc                1.4.3   2023-12-10 [1] CRAN (R 4.5.1)\n details             0.4.0   2025-02-09 [1] CRAN (R 4.5.2)\n digest              0.6.37  2024-08-19 [1] CRAN (R 4.5.1)\n dplyr             * 1.1.4   2023-11-17 [1] CRAN (R 4.5.1)\n evaluate            1.0.5   2025-08-27 [1] CRAN (R 4.5.1)\n farver              2.1.2   2024-05-13 [1] CRAN (R 4.5.1)\n fastmap             1.2.0   2024-05-15 [1] CRAN (R 4.5.1)\n fontawesome         0.5.3   2024-11-16 [1] CRAN (R 4.5.1)\n fontBitstreamVera   0.1.1   2017-02-01 [1] CRAN (R 4.5.2)\n fontLiberation      0.1.0   2016-10-15 [1] CRAN (R 4.5.2)\n fontquiver          0.2.1   2017-02-01 [1] CRAN (R 4.5.2)\n forcats           * 1.0.0   2023-01-29 [1] CRAN (R 4.5.1)\n fs                  1.6.6   2025-04-12 [1] CRAN (R 4.5.1)\n gdtools             0.4.4   2025-10-06 [1] CRAN (R 4.5.2)\n generics            0.1.4   2025-05-09 [1] CRAN (R 4.5.1)\n ggfun               0.2.0   2025-07-15 [1] CRAN (R 4.5.2)\n ggimage           * 0.3.4   2025-08-24 [1] CRAN (R 4.5.2)\n ggiraph             0.9.2   2025-10-07 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.0   2025-09-11 [1] CRAN (R 4.5.1)\n ggplotify           0.1.3   2025-09-20 [1] CRAN (R 4.5.2)\n glue                1.8.0   2024-09-30 [1] CRAN (R 4.5.1)\n gridGraphics        0.5-1   2020-12-13 [1] CRAN (R 4.5.1)\n gt                * 1.0.0   2025-04-05 [1] CRAN (R 4.5.1)\n gtable              0.3.6   2024-10-25 [1] CRAN (R 4.5.1)\n gtExtras          * 0.6.0   2025-05-29 [1] CRAN (R 4.5.1)\n hms                 1.1.3   2023-03-21 [1] CRAN (R 4.5.1)\n htmltools           0.5.8.1 2024-04-04 [1] CRAN (R 4.5.1)\n htmlwidgets         1.6.4   2023-12-06 [1] CRAN (R 4.5.1)\n httr                1.4.7   2023-08-15 [1] CRAN (R 4.5.1)\n janitor           * 2.2.1   2024-12-22 [1] CRAN (R 4.5.1)\n jsonlite            2.0.0   2025-03-27 [1] CRAN (R 4.5.1)\n knitr               1.50    2025-03-16 [1] CRAN (R 4.5.1)\n labeling            0.4.3   2023-08-29 [1] CRAN (R 4.5.0)\n lazyeval            0.2.2   2019-03-15 [1] CRAN (R 4.5.1)\n lifecycle           1.0.4   2023-11-07 [1] CRAN (R 4.5.1)\n litedown            0.7     2025-04-08 [1] CRAN (R 4.5.1)\n lubridate         * 1.9.4   2024-12-08 [1] CRAN (R 4.5.1)\n magick            * 2.9.0   2025-09-08 [1] CRAN (R 4.5.1)\n magrittr            2.0.4   2025-09-12 [1] CRAN (R 4.5.1)\n maps              * 3.4.3   2025-05-26 [1] CRAN (R 4.5.1)\n markdown            2.0     2025-03-23 [1] CRAN (R 4.5.1)\n paletteer           1.6.0   2024-01-21 [1] CRAN (R 4.5.1)\n pillar              1.11.1  2025-09-17 [1] CRAN (R 4.5.1)\n pkgconfig           2.0.3   2019-09-22 [1] CRAN (R 4.5.1)\n plotly            * 4.11.0  2025-06-19 [1] CRAN (R 4.5.1)\n png                 0.1-8   2022-11-29 [1] CRAN (R 4.5.2)\n purrr             * 1.1.0   2025-07-10 [1] CRAN (R 4.5.1)\n R6                  2.6.1   2025-02-15 [1] CRAN (R 4.5.1)\n rappdirs            0.3.3   2021-01-31 [1] CRAN (R 4.5.1)\n RColorBrewer        1.1-3   2022-04-03 [1] CRAN (R 4.5.0)\n Rcpp                1.1.0   2025-07-02 [1] CRAN (R 4.5.1)\n readr             * 2.1.5   2024-01-10 [1] CRAN (R 4.5.1)\n rematch2            2.1.2   2020-05-01 [1] CRAN (R 4.5.1)\n rlang               1.1.6   2025-04-11 [1] CRAN (R 4.5.1)\n rmarkdown           2.29    2024-11-04 [1] CRAN (R 4.5.1)\n rstudioapi          0.17.1  2024-10-22 [1] CRAN (R 4.5.1)\n rsvg                2.7.0   2025-09-08 [1] CRAN (R 4.5.2)\n S7                  0.2.0   2024-11-07 [1] CRAN (R 4.5.1)\n sass                0.4.10  2025-04-11 [1] CRAN (R 4.5.1)\n scales              1.4.0   2025-04-24 [1] CRAN (R 4.5.1)\n sessioninfo         1.2.3   2025-02-05 [1] CRAN (R 4.5.1)\n snakecase           0.11.1  2023-08-27 [1] CRAN (R 4.5.1)\n stringi             1.8.7   2025-03-27 [1] CRAN (R 4.5.0)\n stringr           * 1.5.2   2025-09-08 [1] CRAN (R 4.5.1)\n systemfonts         1.3.1   2025-10-01 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0   2025-06-08 [1] CRAN (R 4.5.1)\n tidyr             * 1.3.1   2024-01-24 [1] CRAN (R 4.5.1)\n tidyselect          1.2.1   2024-03-11 [1] CRAN (R 4.5.1)\n tidyverse         * 2.0.0   2023-02-22 [1] CRAN (R 4.5.1)\n timechange          0.3.0   2024-01-18 [1] CRAN (R 4.5.1)\n tzdb                0.5.0   2025-03-15 [1] CRAN (R 4.5.1)\n utf8                1.2.6   2025-06-08 [1] CRAN (R 4.5.1)\n vctrs               0.6.5   2023-12-01 [1] CRAN (R 4.5.1)\n viridisLite         0.4.2   2023-05-02 [1] CRAN (R 4.5.1)\n vroom               1.6.6   2025-09-19 [1] CRAN (R 4.5.1)\n withr               3.0.2   2024-10-28 [1] CRAN (R 4.5.1)\n xfun                0.53    2025-08-19 [1] CRAN (R 4.5.1)\n xml2                1.4.0   2025-08-20 [1] CRAN (R 4.5.1)\n yaml                2.3.10  2024-07-26 [1] CRAN (R 4.5.0)\n yulab.utils         0.2.2   2025-12-01 [1] CRAN (R 4.5.1)\n\n [1] C:/Users/adrib/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.1/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_bigdta_bueno.html#datos",
    "href": "my_trabajo_bigdta_bueno.html#datos",
    "title": "La primera de España",
    "section": "DATOS",
    "text": "DATOS\nVamos a utilizar datos de la web de Kaggle. La web la encontramos aquí.\nLos datos contienen datos sobre futbolistas, selecciones, ubicaciones y mucho más.\nAquí las librerías:\n\nCódigolibrary(tidyverse)\nlibrary(gt)\nlibrary(gtExtras)   \nlibrary(countrycode) \nlibrary(magick)\nlibrary(janitor)\nlibrary(maps)\nlibrary(plotly)\nlibrary(ggimage)\nlibrary(cropcircles)\n\n\n\nCódigoruta_a_datos_1 &lt;- \"./datos/FIFA_World_Cup_1558_23.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\naño_2010 &lt;- df_completo %&gt;%\n  rename(Año = Year, Ciudad = City, Estadio = Stadium) %&gt;% \n  select(Año, Estadio, Ciudad) %&gt;% \n  filter(Año == 2010) %&gt;%\n  group_by(Ciudad, Estadio) %&gt;% \n  mutate(Ciudad = case_when( \n    Ciudad ==\"Mangaung/Bloemfontein\" ~ \"Bloemfontein\",\n    Ciudad == \"Nelson Mandela Bay/Port Elizabeth\" ~ \"Port Elizabeth\",\n    Ciudad == \"Polokwane\" ~ \"Pietersburg\", \n    Ciudad == \"Tshwane/Pretoria\" ~ \"Pretoria\", \n    Ciudad == \"Phokeng\" ~ \"Rustenburg\",\n    TRUE ~ Ciudad)) %&gt;% \n  slice(1) %&gt;%\n  ungroup()\n\ndata(world.cities)\ncoords_sudafrica &lt;- world.cities %&gt;%\n  filter(country.etc == \"South Africa\") %&gt;%\n  select(name, lat, long)\n\nmapa_finales &lt;- año_2010 %&gt;% \n  left_join(coords_sudafrica, by = c(\"Ciudad\" = \"name\")) \n\nmap_plot &lt;- plot_geo(data = mapa_finales,\n                     lat = ~lat,   \n                     lon = ~long,\n                     height = 600) %&gt;% \n  add_markers(\n    text = ~paste(\"&lt;b&gt;Ciudad:&lt;/b&gt;\", Ciudad, \"&lt;br&gt;\",\n                  \"&lt;b&gt;Estadio:&lt;/b&gt;\", Estadio),\n    color = I(\"#D32F2F\"), \n    size = I(12),    \n    marker = list(\n      line = list(color = \"white\", width = 0.5),\n      hoverinfo = \"text\")) %&gt;% \n  layout(\n    title = \"Sedes Mundial Sudáfrica 2010\",\n    geo = list(\n      scope = 'africa',    \n      showframe = FALSE,\n      showland = TRUE,\n      landcolor = \"#F0F0F0\",\n      showocean = TRUE,\n      oceancolor = \"#B3E5FC\",\n      countrycolor = \"white\",\n      lonaxis = list(range = c(16, 33)), \n      lataxis = list(range = c(-35, -22))\n    )\n  ) %&gt;%\n  config(displayModeBar = FALSE)\n\nmap_plot\n\n\n\n\n\n#| message: false #| warning: false\nruta_a_datos_2 &lt;- “./datos/resultados.csv” df_completo &lt;- read_csv(ruta_a_datos_2)\nPartidos_España &lt;- df_completo %&gt;% mutate(date = as.Date(date)) %&gt;% filter(tournament == “FIFA World Cup”, between(date, as.Date(“2010-06-11”), as.Date(“2010-07-11”))) %&gt;% filter(home_team == “Spain” | away_team == “Spain”) %&gt;%\nmutate(Resultado_ESP = case_when( (home_team == “Spain” & home_score &lt; away_score) ~ “Perdido”, (away_team == “Spain” & away_score &lt; home_score) ~ “Perdido”, (home_team == “Spain” & home_score &gt; away_score) ~ “Ganado”, (away_team == “Spain” & away_score &gt; home_score) ~ “Ganado” ))%&gt;%\nunite(col = “Resultado”, home_score, away_score, sep = ” - “, remove = FALSE) %&gt;%\nrename(Local = home_team, Visitante = away_team, Torneo = tournament) %&gt;% select(Local, Visitante, Resultado, Resultado_ESP)\nPartidos_España &lt;- Partidos_España %&gt;% mutate(Orden = 1:n(), Fase = c(“Grupos 1”, “Grupos 2”, “Grupos 3”, “Octavos”, “Cuartos”, “Semis”, “Final”), Rival = ifelse(Local == “Spain”, Visitante, Local))\nggplot(Partidos_España, aes(x = Orden, y = Resultado_ESP, group = 1)) + geom_path(color = “gray80”, size = 1) + geom_point(aes(color = Resultado_ESP), size = 12) + geom_text(aes(label = Resultado), color = “white”, fontface = “bold”, size = 3) + geom_text(aes(label = paste(“vs”, Rival)), vjust = -2.5, size = 3.5, fontface = “italic”) + geom_text(aes(label = Fase), vjust = 3.5, size = 3, color = “gray30”) +\n# Colores y escalas scale_color_manual(values = c(“Ganado” = “#228B22”, “Perdido” = “#CC0000”)) + scale_y_discrete(limits = c(“Perdido”, “Ganado”)) +\n# Limpieza visual theme_minimal() + labs(title = “Cronología: El camino a la estrella”, subtitle = “Resultados oficiales de cada encuentro”, x = NULL, y = NULL) + theme( panel.grid = element_blank(), axis.text = element_blank(), legend.position = “none”, plot.title = element_text(face = “bold”, size = 14) )\n#| message: false #| warning: false\nruta_a_datos_3 &lt;- “./datos/goalscorers.csv” df_completo &lt;- read_csv(ruta_a_datos_3)\nmundial &lt;- df_completo %&gt;% rename(Fecha = date, Equipo_Local = home_team, Equipo_Visitante = away_team , Goleador = scorer) %&gt;% select(Fecha, Equipo_Local, Equipo_Visitante, Goleador) %&gt;% mutate(Fecha = as.Date(Fecha)) %&gt;% filter(between(Fecha, as.Date(“2010-06-11”) , as.Date(“2010-07-11”))) %&gt;% filter(Equipo_Local == “Spain”| Equipo_Visitante == “Spain”) %&gt;% count(Goleador) %&gt;% arrange(desc(n)) %&gt;% head(3)\nimagenes_goleadores &lt;- data.frame( Goleador = c(“David Villa”, “Andrés Iniesta”, “Carles Puyol”), Foto = c(“villa.jpg”, “iniesta.png”, “puyol.jpg”)) %&gt;% mutate(logo = file.path(“imagenes”, Foto))\ntop_3 &lt;- left_join(mundial,imagenes_goleadores, by = “Goleador”)\ntop_3 &lt;- top_3 %&gt;% mutate(logo_circular = circle_crop(logo))\nmi_grafico &lt;- ggplot(top_3, aes(x = reorder(Goleador, n), y = n)) + geom_col(fill = “#DD0000”, width = 0.6) + coord_flip() + geom_image(aes(image = logo_circular, y = 0), size = 0.3) +\ngeom_text(aes(label = n), hjust = -0.2, fontface = “bold”, size = 3.5) +\nscale_y_continuous(expand = expansion(mult = c(0.2, 0.1))) +\nlabs( title = “Goleadores de la selección”, subtitle = “Mundial Sudáfrica 2010”, x = NULL, y = “Goles” ) + theme_minimal() + theme( axis.text.y = element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank(), panel.grid.major.y = element_blank(), panel.grid = element_blank(), plot.margin = margin(10, 20, 10, 20))\nmi_grafico\n#| message: false #| warning: false\nruta_a_datos_4 &lt;- “./datos/FIFA - 2010.csv” df_completo &lt;- read_csv(ruta_a_datos_4)\ntop_10_grafico &lt;- df_completo %&gt;% rename(equipo = Team, partidos_jugados = Games Played, goles_contra = Goals Against) %&gt;% mutate(equipo = case_when( equipo == “England” ~ “United Kingdom”, TRUE ~ equipo)) %&gt;% mutate(Goles_partido = goles_contra / partidos_jugados) %&gt;% select(equipo, partidos_jugados, Goles_partido) %&gt;% filter(partidos_jugados &gt;= 4) %&gt;% arrange(Goles_partido) %&gt;% mutate(iso2 = countrycode(equipo, origin = “country.name”, destination = “iso2c”)) %&gt;% mutate(iso2 = tolower(iso2)) %&gt;% mutate(flag_URL = paste0(“https://hatscripts.github.io/circle-flags/flags/”, iso2, “.svg”))\nmi_grafico &lt;- ggplot(top_10_grafico, aes(x = partidos_jugados, y = Goles_partido)) + theme_minimal() +\ngeom_image(aes(image = flag_URL), size = 0.08, position = position_jitter(width = 0.2, height = 0.02, seed = 123)) +\nlabs( title = “Las mejores defensas”, x = “Partidos Jugados”, y = “Goles encajados”) + scale_x_continuous(breaks = 4:7,\nlimits = c(3.5, 7.5),\nexpand = c(0, 0)) + scale_y_continuous(expand = expansion(mult = c(0.1, 0.1))) +\ntheme( plot.title = element_text(face = “bold”, size = 16), panel.grid = element_blank(), panel.grid.minor = element_blank(), plot.margin = margin(10, 20, 10, 20))\nmi_grafico\n#| message: false #| warning: false\nimg1 &lt;- image_read(“./imagenes/1.png”) %&gt;% image_scale(“700”) img2 &lt;- image_read(“./imagenes/2.png”) %&gt;% image_scale(“700”) img3 &lt;- image_read(“./imagenes/3.png”) %&gt;% image_scale(“700”) img4 &lt;- image_read(“./imagenes/4.png”) %&gt;% image_scale(“700”) img5 &lt;- image_read(“./imagenes/5.png”) %&gt;% image_scale(“700”) img6 &lt;- image_read(“./imagenes/6.png”) %&gt;% image_scale(“700”) img7 &lt;- image_read(“./imagenes/7.png”) %&gt;% image_scale(“700”) img8 &lt;- image_read(“./imagenes/8.png”) %&gt;% image_scale(“700”) img9 &lt;- image_read(“./imagenes/9.png”) %&gt;% image_scale(“700”) img10 &lt;- image_read(“./imagenes/10.png”) %&gt;% image_scale(“700”) img11 &lt;- image_read(“./imagenes/11.png”) %&gt;% image_scale(“700”) img12 &lt;- image_read(“./imagenes/12.png”) %&gt;% image_scale(“700”) img13 &lt;- image_read(“./imagenes/13.png”) %&gt;% image_scale(“700”) img14 &lt;- image_read(“./imagenes/14.png”) %&gt;% image_scale(“700”) img15 &lt;- image_read(“./imagenes/15.png”) %&gt;% image_scale(“700”)\nequipos_unidos &lt;- image_join(img1, img2, img3, img4, img5, img6, img7, img8, img9, img10, img11, img12, img13, img14, img15)\nanimacion &lt;- image_animate(equipos_unidos, fps = 2)\nprint(animacion)\n#| message: false #| warning: false\nruta_a_datos_5 &lt;- “./datos/WorldCups.csv” df_completo &lt;- read_csv(ruta_a_datos_5)\ntabla_preparada &lt;- df_completo %&gt;% filter(Year &lt;= 2010) %&gt;% rename(ganador = Winner) %&gt;% mutate(ganador = case_when( ganador == “Germany FR” ~ “Germany”, ganador == “England” ~ “United Kingdom”, TRUE ~ ganador)) %&gt;% group_by(ganador) %&gt;% summarise(n = n()) %&gt;% arrange(desc(n)) %&gt;% mutate(iso2 = countrycode(ganador, origin = “country.name”, destination = “iso2c”)) %&gt;% mutate(iso2 = tolower(iso2)) %&gt;% mutate(bandera_url = paste0(“https://hatscripts.github.io/circle-flags/flags/”, iso2, “.svg”)) %&gt;% select(bandera_url, ganador, n)\nmi_tabla_final &lt;- tabla_preparada %&gt;% gt() %&gt;% gt_img_rows(columns = bandera_url, height = 30) %&gt;% cols_label( bandera_url = ““, ganador =”Selección”, n = “Títulos”) %&gt;% tab_header( title = md(“Palmarés”), subtitle = “Mundiales ganados hasta 2010”)%&gt;% cols_align(align = “center”, columns = n) %&gt;% gt_theme_dark() %&gt;% tab_style( style = list(cell_text(weight = “bold”, color = “#FFD700”, size = pct(100))), locations = cells_body(columns = n))\nmi_tabla_final\n#| echo: false sessioninfo::session_info()"
  },
  {
    "objectID": "my_trabajo_BigData.html#intro",
    "href": "my_trabajo_BigData.html#intro",
    "title": "La primera de España",
    "section": "",
    "text": "Para realizar el trabajo, hemos sacado los datos de la pagina webb Kaggle, una web la cual contiene millones de datos, y entre ellos, de la Champions League. Os dejamos por aqui el enlace"
  },
  {
    "objectID": "my_trabajo_BigData.html#los-pingüinos-molan",
    "href": "my_trabajo_BigData.html#los-pingüinos-molan",
    "title": "Los pingüinos molan",
    "section": "Los pingüinos molan",
    "text": "Los pingüinos molan\nVamos a ver una foto de un pingüinos\n\n\nUn pingüino chulo\n\n\nSí, lo pingüinos molan, así que vamos a poner otra foto de pingüinos que tenemos en nuestro PC pero la vamos a poner en el margen:"
  },
  {
    "objectID": "my_trabajo_BigData.html#algunos-gráficos",
    "href": "my_trabajo_BigData.html#algunos-gráficos",
    "title": "Los pingüinos molan",
    "section": "Algunos gráficos",
    "text": "Algunos gráficos\nBueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes\n\nCódigolibrary(tidyverse)\n\n\nArreglo los datos\n\nCódigo#- cojos datos de pingüinos y arreglo un poco \ndf &lt;- palmerpenguins::penguins %&gt;% \n  dplyr::select(species, bill_depth_mm, body_mass_g) %&gt;% \n  tidyr::drop_na()\n\n\n\nPrimer gráfico\n\nCódigo#- primer gráfico\np &lt;- ggplot(data = df, \n       mapping = aes(x = bill_depth_mm, y = body_mass_g, color = species)) +\n     geom_point()\np\n\n\n\n\n\n\n\nSegundo\n\nCódigo#- segundo gráfico\np &lt;- p + geom_smooth(method = \"lm\", se = FALSE) \n\np\n\n\n\n\n\n\n\nEl último\n\nCódigo#- tercer gráfico\np + geom_smooth(method = \"lm\", se = FALSE, color = \"black\") \n\n\n\n\n\n\n\n\nCon esto acabo mi trabajo para BigData!!\n\n\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.1 (2025-06-13 ucrt)\n os       Windows 11 x64 (build 26100)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2026-01-05\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\Users\\\\adrib\\\\AppData\\\\Local\\\\Programs\\\\Quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package        * version date (UTC) lib source\n bit              4.6.0   2025-03-06 [1] CRAN (R 4.5.1)\n bit64            4.6.0-1 2025-01-16 [1] CRAN (R 4.5.1)\n cli              3.6.5   2025-04-23 [1] CRAN (R 4.5.1)\n clipr            0.8.0   2022-02-22 [1] CRAN (R 4.5.1)\n crayon           1.5.3   2024-06-20 [1] CRAN (R 4.5.1)\n crosstalk        1.2.2   2025-08-26 [1] CRAN (R 4.5.1)\n data.table       1.17.8  2025-07-10 [1] CRAN (R 4.5.1)\n desc             1.4.3   2023-12-10 [1] CRAN (R 4.5.1)\n details          0.4.0   2025-02-09 [1] CRAN (R 4.5.2)\n digest           0.6.37  2024-08-19 [1] CRAN (R 4.5.1)\n dplyr          * 1.1.4   2023-11-17 [1] CRAN (R 4.5.1)\n evaluate         1.0.5   2025-08-27 [1] CRAN (R 4.5.1)\n farver           2.1.2   2024-05-13 [1] CRAN (R 4.5.1)\n fastmap          1.2.0   2024-05-15 [1] CRAN (R 4.5.1)\n forcats        * 1.0.0   2023-01-29 [1] CRAN (R 4.5.1)\n generics         0.1.4   2025-05-09 [1] CRAN (R 4.5.1)\n ggplot2        * 4.0.0   2025-09-11 [1] CRAN (R 4.5.1)\n glue             1.8.0   2024-09-30 [1] CRAN (R 4.5.1)\n gtable           0.3.6   2024-10-25 [1] CRAN (R 4.5.1)\n hms              1.1.3   2023-03-21 [1] CRAN (R 4.5.1)\n htmltools        0.5.8.1 2024-04-04 [1] CRAN (R 4.5.1)\n htmlwidgets      1.6.4   2023-12-06 [1] CRAN (R 4.5.1)\n httr             1.4.7   2023-08-15 [1] CRAN (R 4.5.1)\n janitor        * 2.2.1   2024-12-22 [1] CRAN (R 4.5.1)\n jsonlite         2.0.0   2025-03-27 [1] CRAN (R 4.5.1)\n knitr            1.50    2025-03-16 [1] CRAN (R 4.5.1)\n labeling         0.4.3   2023-08-29 [1] CRAN (R 4.5.0)\n lattice          0.22-7  2025-04-02 [2] CRAN (R 4.5.1)\n lazyeval         0.2.2   2019-03-15 [1] CRAN (R 4.5.1)\n lifecycle        1.0.4   2023-11-07 [1] CRAN (R 4.5.1)\n lubridate      * 1.9.4   2024-12-08 [1] CRAN (R 4.5.1)\n magrittr         2.0.4   2025-09-12 [1] CRAN (R 4.5.1)\n maps           * 3.4.3   2025-05-26 [1] CRAN (R 4.5.1)\n Matrix           1.7-3   2025-03-11 [2] CRAN (R 4.5.1)\n mgcv             1.9-3   2025-04-04 [2] CRAN (R 4.5.1)\n nlme             3.1-168 2025-03-31 [2] CRAN (R 4.5.1)\n palmerpenguins * 0.1.1   2022-08-15 [1] CRAN (R 4.5.1)\n pillar           1.11.1  2025-09-17 [1] CRAN (R 4.5.1)\n pkgconfig        2.0.3   2019-09-22 [1] CRAN (R 4.5.1)\n plotly         * 4.11.0  2025-06-19 [1] CRAN (R 4.5.1)\n png              0.1-8   2022-11-29 [1] CRAN (R 4.5.2)\n purrr          * 1.1.0   2025-07-10 [1] CRAN (R 4.5.1)\n R6               2.6.1   2025-02-15 [1] CRAN (R 4.5.1)\n RColorBrewer     1.1-3   2022-04-03 [1] CRAN (R 4.5.0)\n readr          * 2.1.5   2024-01-10 [1] CRAN (R 4.5.1)\n rlang            1.1.6   2025-04-11 [1] CRAN (R 4.5.1)\n rmarkdown        2.29    2024-11-04 [1] CRAN (R 4.5.1)\n rstudioapi       0.17.1  2024-10-22 [1] CRAN (R 4.5.1)\n S7               0.2.0   2024-11-07 [1] CRAN (R 4.5.1)\n scales           1.4.0   2025-04-24 [1] CRAN (R 4.5.1)\n sessioninfo      1.2.3   2025-02-05 [1] CRAN (R 4.5.1)\n snakecase        0.11.1  2023-08-27 [1] CRAN (R 4.5.1)\n stringi          1.8.7   2025-03-27 [1] CRAN (R 4.5.0)\n stringr        * 1.5.2   2025-09-08 [1] CRAN (R 4.5.1)\n tibble         * 3.3.0   2025-06-08 [1] CRAN (R 4.5.1)\n tidyr          * 1.3.1   2024-01-24 [1] CRAN (R 4.5.1)\n tidyselect       1.2.1   2024-03-11 [1] CRAN (R 4.5.1)\n tidyverse      * 2.0.0   2023-02-22 [1] CRAN (R 4.5.1)\n timechange       0.3.0   2024-01-18 [1] CRAN (R 4.5.1)\n tzdb             0.5.0   2025-03-15 [1] CRAN (R 4.5.1)\n vctrs            0.6.5   2023-12-01 [1] CRAN (R 4.5.1)\n viridisLite      0.4.2   2023-05-02 [1] CRAN (R 4.5.1)\n vroom            1.6.6   2025-09-19 [1] CRAN (R 4.5.1)\n withr            3.0.2   2024-10-28 [1] CRAN (R 4.5.1)\n xfun             0.53    2025-08-19 [1] CRAN (R 4.5.1)\n yaml             2.3.10  2024-07-26 [1] CRAN (R 4.5.0)\n\n [1] C:/Users/adrib/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.1/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_BigData.html#introducción",
    "href": "my_trabajo_BigData.html#introducción",
    "title": "Los pingüinos molan",
    "section": "INTRODUCCIÓN",
    "text": "INTRODUCCIÓN\n\nCódigolibrary(tidyverse)\nlibrary(janitor)\nlibrary(maps)\nlibrary(plotly)\n\n\nruta_a_datos_1 &lt;- \"./datos/FIFA_World_Cup_1558_23.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\naño_2010 &lt;- df_completo %&gt;%\n  rename(Año = Year, Ciudad = City, Estadio = Stadium) %&gt;% \n  select(Año, Estadio, Ciudad) %&gt;% \n  filter(Año == 2010) %&gt;%\n  group_by(Ciudad, Estadio) %&gt;% \n  mutate(Ciudad = case_when( \n    Ciudad ==\"Mangaung/Bloemfontein\" ~ \"Bloemfontein\",\n    Ciudad == \"Nelson Mandela Bay/Port Elizabeth\" ~ \"Port Elizabeth\",\n    Ciudad == \"Polokwane\" ~ \"Pietersburg\", \n    Ciudad == \"Tshwane/Pretoria\" ~ \"Pretoria\", \n    Ciudad == \"Phokeng\" ~ \"Rustenburg\",\n    TRUE ~ Ciudad)) %&gt;% \n  slice(1) %&gt;%\n  ungroup()\n\n\ndata(world.cities)\ncoords_sudafrica &lt;- world.cities %&gt;%\n  filter(country.etc == \"South Africa\") %&gt;%\n  select(name, lat, long)\n\nmapa_finales &lt;- año_2010 %&gt;% \n  left_join(coords_sudafrica, by = c(\"Ciudad\" = \"name\")) \n\n\nmap_plot &lt;- plot_geo(data = mapa_finales,\n                     lat = ~lat,   \n                     lon = ~long) %&gt;% \n  \n  add_markers(\n    text = ~paste(\"&lt;b&gt;Ciudad:&lt;/b&gt;\", Ciudad, \"&lt;br&gt;\",\n                  \"&lt;b&gt;Estadio:&lt;/b&gt;\", Estadio),\n    color = I(\"#D32F2F\"), \n    size = I(12),   \n    marker = list(\n      line = list(color = \"white\", width = 0.5),\n    hoverinfo = \"text\")) %&gt;%\n  \n  layout(\n    title = \"Sedes Mundial Sudáfrica 2010\",\n    geo = list(\n      scope = 'africa',   \n      showframe = FALSE,\n      showland = TRUE,\n      landcolor = \"#F0F0F0\",\n      showocean = TRUE,\n      oceancolor = \"#B3E5FC\",\n      countrycolor = \"white\",\n      lonaxis = list(range = c(16, 33)), \n      lataxis = list(range = c(-35, -22))\n    )\n  ) %&gt;%\n  config(displayModeBar = FALSE)\n\n\nmap_plot"
  },
  {
    "objectID": "my_trabajo_BigData.html#resultados",
    "href": "my_trabajo_BigData.html#resultados",
    "title": "La primera de España",
    "section": "2. Resultados",
    "text": "2. Resultados\nAquí analizo la trayectoria de la selección. Jugamos 7 partidos en total. Aunque empezamos perdiendo contra Suiza (el punto rojo del gráfico), luego encadenamos 6 victorias seguidas hasta la final. En el gráfico se ve el rival, la fase y el resultado de cada encuentro.\n\nCódigolibrary(tidyverse)\n\nruta_a_datos_1 &lt;- \"./datos/resultados.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1) \n\nPartidos_España &lt;- df_completo %&gt;% \n  mutate(date = as.Date(date)) %&gt;% \n  filter(tournament == \"FIFA World Cup\",\n         between(date, as.Date(\"2010-06-11\"), as.Date(\"2010-07-11\"))) %&gt;% \n  filter(home_team == \"Spain\" | away_team == \"Spain\") %&gt;%\n  \n  mutate(Resultado_ESP = case_when(\n    (home_team == \"Spain\" & home_score &lt; away_score) ~ \"Perdido\",\n    (away_team == \"Spain\" & away_score &lt; home_score) ~ \"Perdido\",\n    (home_team == \"Spain\" & home_score &gt; away_score) ~ \"Ganado\",\n    (away_team == \"Spain\" & away_score &gt; home_score) ~ \"Ganado\" ))%&gt;% \n  \n  unite(col = \"Resultado\", \n        home_score, away_score, \n        sep = \" - \", \n        remove = FALSE) %&gt;% \n \n  rename(Local = home_team, Visitante = away_team,\n         Torneo = tournament) %&gt;% \n  select(Local, Visitante, Resultado, Resultado_ESP)\n\n\nPartidos_España &lt;- Partidos_España %&gt;%\n  mutate(Orden = 1:n(),\n         Fase = c(\"Grupos 1\", \"Grupos 2\", \"Grupos 3\", \n                  \"Octavos\", \"Cuartos\", \"Semis\", \"Final\"),\n         Rival = ifelse(Local == \"Spain\", Visitante, Local))\n\n\n  ggplot(Partidos_España, aes(x = Orden, y = Resultado_ESP, group = 1)) +\n  geom_path(color = \"gray80\", size = 1) +\n  geom_point(aes(color = Resultado_ESP), size = 12) + \n  geom_text(aes(label = Resultado), color = \"white\", fontface = \"bold\", size = 3) +\n  geom_text(aes(label = paste(\"vs\", Rival)), vjust = -2.5, size = 3.5, fontface =      \"italic\") +\n  geom_text(aes(label = Fase), vjust = 3.5, size = 3, color = \"gray30\") +\n  scale_color_manual(values = c(\"Ganado\" = \"#228B22\", \"Perdido\" = \"#CC0000\")) +\n  scale_y_discrete(limits = c(\"Perdido\", \"Ganado\")) +\n  theme_minimal() +\n  labs(title = \"Cronología: El camino a la estrella\",\n       subtitle = \"Resultados oficiales de cada encuentro\",\n       x = NULL, y = NULL) +\n  theme(\n    panel.grid = element_blank(),\n    axis.text = element_blank(),\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 14))"
  },
  {
    "objectID": "my_trabajo_BigDataF.html",
    "href": "my_trabajo_BigDataF.html",
    "title": "El mundial de 2010",
    "section": "",
    "text": "Para realizar el trabajo, hemos sacado los datos de la pagina webb Kaggle, una web la cual contiene millones de datos, y entre ellos, de la Champions League. Os dejamos por aqui el enlace"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#intro",
    "href": "my_trabajo_BigDataF.html#intro",
    "title": "El mundial de 2010",
    "section": "",
    "text": "Para realizar el trabajo, hemos sacado los datos de la pagina webb Kaggle, una web la cual contiene millones de datos, y entre ellos, de la Champions League. Os dejamos por aqui el enlace"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#los-pingüinos-molan",
    "href": "my_trabajo_BigDataF.html#los-pingüinos-molan",
    "title": "Los pingüinos molan",
    "section": "Los pingüinos molan",
    "text": "Los pingüinos molan\nVamos a ver una foto de un pingüinos\n\n\nUn pingüino chulo\n\n\nSí, lo pingüinos molan, así que vamos a poner otra foto de pingüinos que tenemos en nuestro PC pero la vamos a poner en el margen:"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#algunos-gráficos",
    "href": "my_trabajo_BigDataF.html#algunos-gráficos",
    "title": "Los pingüinos molan",
    "section": "Algunos gráficos",
    "text": "Algunos gráficos\nBueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes\n\nCódigolibrary(tidyverse)\n\n\nArreglo los datos\n\nCódigo#- cojos datos de pingüinos y arreglo un poco \ndf &lt;- palmerpenguins::penguins %&gt;% \n  dplyr::select(species, bill_depth_mm, body_mass_g) %&gt;% \n  tidyr::drop_na()\n\n\n\nPrimer gráfico\n\nCódigo#- primer gráfico\np &lt;- ggplot(data = df, \n       mapping = aes(x = bill_depth_mm, y = body_mass_g, color = species)) +\n     geom_point()\np\n\n\n\n\n\n\n\nSegundo\n\nCódigo#- segundo gráfico\np &lt;- p + geom_smooth(method = \"lm\", se = FALSE) \n\np\n\n\n\n\n\n\n\nEl último\n\nCódigo#- tercer gráfico\np + geom_smooth(method = \"lm\", se = FALSE, color = \"black\") \n\n\n\n\n\n\n\n\nCon esto acabo mi trabajo para BigData!!\n\n\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.1 (2025-06-13 ucrt)\n os       Windows 11 x64 (build 26100)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2026-01-05\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\Users\\\\adrib\\\\AppData\\\\Local\\\\Programs\\\\Quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package        * version date (UTC) lib source\n bit              4.6.0   2025-03-06 [1] CRAN (R 4.5.1)\n bit64            4.6.0-1 2025-01-16 [1] CRAN (R 4.5.1)\n cli              3.6.5   2025-04-23 [1] CRAN (R 4.5.1)\n clipr            0.8.0   2022-02-22 [1] CRAN (R 4.5.1)\n crayon           1.5.3   2024-06-20 [1] CRAN (R 4.5.1)\n crosstalk        1.2.2   2025-08-26 [1] CRAN (R 4.5.1)\n data.table       1.17.8  2025-07-10 [1] CRAN (R 4.5.1)\n desc             1.4.3   2023-12-10 [1] CRAN (R 4.5.1)\n details          0.4.0   2025-02-09 [1] CRAN (R 4.5.2)\n digest           0.6.37  2024-08-19 [1] CRAN (R 4.5.1)\n dplyr          * 1.1.4   2023-11-17 [1] CRAN (R 4.5.1)\n evaluate         1.0.5   2025-08-27 [1] CRAN (R 4.5.1)\n farver           2.1.2   2024-05-13 [1] CRAN (R 4.5.1)\n fastmap          1.2.0   2024-05-15 [1] CRAN (R 4.5.1)\n forcats        * 1.0.0   2023-01-29 [1] CRAN (R 4.5.1)\n generics         0.1.4   2025-05-09 [1] CRAN (R 4.5.1)\n ggplot2        * 4.0.0   2025-09-11 [1] CRAN (R 4.5.1)\n glue             1.8.0   2024-09-30 [1] CRAN (R 4.5.1)\n gtable           0.3.6   2024-10-25 [1] CRAN (R 4.5.1)\n hms              1.1.3   2023-03-21 [1] CRAN (R 4.5.1)\n htmltools        0.5.8.1 2024-04-04 [1] CRAN (R 4.5.1)\n htmlwidgets      1.6.4   2023-12-06 [1] CRAN (R 4.5.1)\n httr             1.4.7   2023-08-15 [1] CRAN (R 4.5.1)\n janitor        * 2.2.1   2024-12-22 [1] CRAN (R 4.5.1)\n jsonlite         2.0.0   2025-03-27 [1] CRAN (R 4.5.1)\n knitr            1.50    2025-03-16 [1] CRAN (R 4.5.1)\n labeling         0.4.3   2023-08-29 [1] CRAN (R 4.5.0)\n lattice          0.22-7  2025-04-02 [2] CRAN (R 4.5.1)\n lazyeval         0.2.2   2019-03-15 [1] CRAN (R 4.5.1)\n lifecycle        1.0.4   2023-11-07 [1] CRAN (R 4.5.1)\n lubridate      * 1.9.4   2024-12-08 [1] CRAN (R 4.5.1)\n magrittr         2.0.4   2025-09-12 [1] CRAN (R 4.5.1)\n maps           * 3.4.3   2025-05-26 [1] CRAN (R 4.5.1)\n Matrix           1.7-3   2025-03-11 [2] CRAN (R 4.5.1)\n mgcv             1.9-3   2025-04-04 [2] CRAN (R 4.5.1)\n nlme             3.1-168 2025-03-31 [2] CRAN (R 4.5.1)\n palmerpenguins * 0.1.1   2022-08-15 [1] CRAN (R 4.5.1)\n pillar           1.11.1  2025-09-17 [1] CRAN (R 4.5.1)\n pkgconfig        2.0.3   2019-09-22 [1] CRAN (R 4.5.1)\n plotly         * 4.11.0  2025-06-19 [1] CRAN (R 4.5.1)\n png              0.1-8   2022-11-29 [1] CRAN (R 4.5.2)\n purrr          * 1.1.0   2025-07-10 [1] CRAN (R 4.5.1)\n R6               2.6.1   2025-02-15 [1] CRAN (R 4.5.1)\n RColorBrewer     1.1-3   2022-04-03 [1] CRAN (R 4.5.0)\n readr          * 2.1.5   2024-01-10 [1] CRAN (R 4.5.1)\n rlang            1.1.6   2025-04-11 [1] CRAN (R 4.5.1)\n rmarkdown        2.29    2024-11-04 [1] CRAN (R 4.5.1)\n rstudioapi       0.17.1  2024-10-22 [1] CRAN (R 4.5.1)\n S7               0.2.0   2024-11-07 [1] CRAN (R 4.5.1)\n scales           1.4.0   2025-04-24 [1] CRAN (R 4.5.1)\n sessioninfo      1.2.3   2025-02-05 [1] CRAN (R 4.5.1)\n snakecase        0.11.1  2023-08-27 [1] CRAN (R 4.5.1)\n stringi          1.8.7   2025-03-27 [1] CRAN (R 4.5.0)\n stringr        * 1.5.2   2025-09-08 [1] CRAN (R 4.5.1)\n tibble         * 3.3.0   2025-06-08 [1] CRAN (R 4.5.1)\n tidyr          * 1.3.1   2024-01-24 [1] CRAN (R 4.5.1)\n tidyselect       1.2.1   2024-03-11 [1] CRAN (R 4.5.1)\n tidyverse      * 2.0.0   2023-02-22 [1] CRAN (R 4.5.1)\n timechange       0.3.0   2024-01-18 [1] CRAN (R 4.5.1)\n tzdb             0.5.0   2025-03-15 [1] CRAN (R 4.5.1)\n vctrs            0.6.5   2023-12-01 [1] CRAN (R 4.5.1)\n viridisLite      0.4.2   2023-05-02 [1] CRAN (R 4.5.1)\n vroom            1.6.6   2025-09-19 [1] CRAN (R 4.5.1)\n withr            3.0.2   2024-10-28 [1] CRAN (R 4.5.1)\n xfun             0.53    2025-08-19 [1] CRAN (R 4.5.1)\n yaml             2.3.10  2024-07-26 [1] CRAN (R 4.5.0)\n\n [1] C:/Users/adrib/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.1/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#lugar",
    "href": "my_trabajo_BigDataF.html#lugar",
    "title": "El mundial de 2010",
    "section": "1. Lugar",
    "text": "1. Lugar\nEl mundial se jugó en Sudáfrica. Fue la primera vez que se hacía en África y se utilizaron 10 estadios diferentes. He creado este mapa interactivo para situar las ciudades y los estadios donde se jugaron los partidos.\n\nCódigolibrary(tidyverse)\nlibrary(janitor)\nlibrary(maps)\nlibrary(plotly)\n\n\nruta_a_datos_1 &lt;- \"./datos/FIFA_World_Cup_1558_23.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\naño_2010 &lt;- df_completo %&gt;%\n  rename(Año = Year, Ciudad = City, Estadio = Stadium) %&gt;% \n  select(Año, Estadio, Ciudad) %&gt;% \n  filter(Año == 2010) %&gt;%\n  group_by(Ciudad, Estadio) %&gt;% \n  mutate(Ciudad = case_when( \n    Ciudad ==\"Mangaung/Bloemfontein\" ~ \"Bloemfontein\",\n    Ciudad == \"Nelson Mandela Bay/Port Elizabeth\" ~ \"Port Elizabeth\",\n    Ciudad == \"Polokwane\" ~ \"Pietersburg\", \n    Ciudad == \"Tshwane/Pretoria\" ~ \"Pretoria\", \n    Ciudad == \"Phokeng\" ~ \"Rustenburg\",\n    TRUE ~ Ciudad)) %&gt;% \n  slice(1) %&gt;%\n  ungroup()\n\n\ndata(world.cities)\ncoords_sudafrica &lt;- world.cities %&gt;%\n  filter(country.etc == \"South Africa\") %&gt;%\n  select(name, lat, long)\n\nmapa_finales &lt;- año_2010 %&gt;% \n  left_join(coords_sudafrica, by = c(\"Ciudad\" = \"name\")) \n\n\nmap_plot &lt;- plot_geo(data = mapa_finales,\n                     lat = ~lat,   \n                     lon = ~long) %&gt;% \n  \n  add_markers(\n    text = ~paste(\"&lt;b&gt;Ciudad:&lt;/b&gt;\", Ciudad, \"&lt;br&gt;\",\n                  \"&lt;b&gt;Estadio:&lt;/b&gt;\", Estadio),\n    color = I(\"#D32F2F\"), \n    size = I(12),   \n    marker = list(\n      line = list(color = \"white\", width = 0.5),\n    hoverinfo = \"text\")) %&gt;%\n  \n  layout(\n    title = \"Sedes Mundial Sudáfrica 2010\",\n    geo = list(\n      scope = 'africa',   \n      showframe = FALSE,\n      showland = TRUE,\n      landcolor = \"#F0F0F0\",\n      showocean = TRUE,\n      oceancolor = \"#B3E5FC\",\n      countrycolor = \"white\",\n      lonaxis = list(range = c(16, 33)), \n      lataxis = list(range = c(-35, -22))\n    )\n  ) %&gt;%\n  config(displayModeBar = FALSE)\n\n\nmap_plot"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#resultados",
    "href": "my_trabajo_BigDataF.html#resultados",
    "title": "El mundial de 2010",
    "section": "2. Resultados",
    "text": "2. Resultados\nAquí analizo la trayectoria de la selección. Jugamos 7 partidos en total. Aunque empezamos perdiendo contra Suiza (el punto rojo del gráfico), luego encadenamos 6 victorias seguidas hasta la final. En el gráfico se ve el rival, la fase y el resultado de cada encuentro.\n\nCódigolibrary(tidyverse)\n\nruta_a_datos_1 &lt;- \"./datos/resultados.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1) \n\nPartidos_España &lt;- df_completo %&gt;% \n  mutate(date = as.Date(date)) %&gt;% \n  filter(tournament == \"FIFA World Cup\",\n         between(date, as.Date(\"2010-06-11\"), as.Date(\"2010-07-11\"))) %&gt;% \n  filter(home_team == \"Spain\" | away_team == \"Spain\") %&gt;%\n  \n  mutate(Resultado_ESP = case_when(\n    (home_team == \"Spain\" & home_score &lt; away_score) ~ \"Perdido\",\n    (away_team == \"Spain\" & away_score &lt; home_score) ~ \"Perdido\",\n    (home_team == \"Spain\" & home_score &gt; away_score) ~ \"Ganado\",\n    (away_team == \"Spain\" & away_score &gt; home_score) ~ \"Ganado\" ))%&gt;% \n  \n  unite(col = \"Resultado\", \n        home_score, away_score, \n        sep = \" - \", \n        remove = FALSE) %&gt;% \n \n  rename(Local = home_team, Visitante = away_team,\n         Torneo = tournament) %&gt;% \n  select(Local, Visitante, Resultado, Resultado_ESP)\n\n\nPartidos_España &lt;- Partidos_España %&gt;%\n  mutate(Orden = 1:n(),\n         Fase = c(\"Grupos 1\", \"Grupos 2\", \"Grupos 3\", \n                  \"Octavos\", \"Cuartos\", \"Semis\", \"Final\"),\n         Rival = ifelse(Local == \"Spain\", Visitante, Local))\n\n\n  ggplot(Partidos_España, aes(x = Orden, y = Resultado_ESP, group = 1)) +\n  geom_path(color = \"gray80\", size = 1) +\n  geom_point(aes(color = Resultado_ESP), size = 12) + \n  geom_text(aes(label = Resultado), color = \"white\", fontface = \"bold\", size = 3) +\n  geom_text(aes(label = paste(\"vs\", Rival)), vjust = -2.5, size = 3.5, fontface =      \"italic\") +\n  geom_text(aes(label = Fase), vjust = 3.5, size = 3, color = \"gray30\") +\n  scale_color_manual(values = c(\"Ganado\" = \"#228B22\", \"Perdido\" = \"#CC0000\")) +\n  scale_y_discrete(limits = c(\"Perdido\", \"Ganado\")) +\n  theme_minimal() +\n  labs(title = \"Cronología: El camino a la estrella\",\n       subtitle = \"Resultados oficiales de cada encuentro\",\n       x = NULL, y = NULL) +\n  theme(\n    panel.grid = element_blank(),\n    axis.text = element_blank(),\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 14))"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#goles",
    "href": "my_trabajo_BigDataF.html#goles",
    "title": "El mundial de 2010",
    "section": "3. Goles",
    "text": "3. Goles\nVamos a ver las estadísticas de goles. Lo curioso de este mundial es que España ganó metiendo pocos goles, pero encajando muy pocos también.\n3.1 Goles metidos\nEn ataque, la cosa estuvo muy repartida entre pocos jugadores. He sacado el top 3 de goleadores de la selección: Villa metió la mayoría, pero los goles decisivos de Puyol (semis) e Iniesta (final) aparecen también destacados.\n\nCódigolibrary(tidyverse)\nlibrary(janitor)\nlibrary(maps)\nlibrary(plotly)\nlibrary(ggimage)\nlibrary(cropcircles) #install.packages(\"cropcircles\")\nlibrary(magick)    \n\nruta_a_datos_1 &lt;- \"./datos/goalscorers.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\nmundial &lt;- df_completo %&gt;% \nrename(Fecha = date, Equipo_Local = home_team, Equipo_Visitante = away_team\n       , Goleador = scorer) %&gt;% \n  select(Fecha, Equipo_Local, Equipo_Visitante, Goleador) %&gt;% \n  mutate(Fecha = as.Date(Fecha)) %&gt;% \n  filter(between(Fecha, as.Date(\"2010-06-11\") , as.Date(\"2010-07-11\"))) %&gt;% \n  filter(Equipo_Local == \"Spain\"| Equipo_Visitante == \"Spain\") %&gt;% \n  count(Goleador) %&gt;% \n  arrange(desc(n)) %&gt;% \n  head(3)\n\nimagenes_goleadores &lt;- data.frame(\n  Goleador = c(\"David Villa\", \"Andrés Iniesta\", \"Carles Puyol\"),\n  Foto = c(\"villa.jpg\", \"iniesta.png\", \"puyol.jpg\")) %&gt;% \n\n  mutate(logo = file.path(\"imagenes\", Foto))\n\ntop_3 &lt;- left_join(mundial,imagenes_goleadores, by = \"Goleador\") \n\ntop_3 &lt;- top_3 %&gt;%\n  mutate(logo_circular = circle_crop(logo))\n\nmi_grafico &lt;- ggplot(top_3, aes(x = reorder(Goleador, n), y = n)) +\n  geom_col(fill = \"#DD0000\", width = 0.6) +\n  coord_flip() +\n  geom_image(aes(image = logo_circular, y = 0), size = 0.3) +\n  \n  geom_text(aes(label = n), hjust = -0.2, fontface = \"bold\", size = 3.5) +\n  \n  scale_y_continuous(expand = expansion(mult = c(0.2, 0.1))) + \n  \n  labs(\n    title = \"Goleadores de la selección\",\n    subtitle = \"Mundial Sudáfrica 2010\",\n    x = NULL, \n    y = \"Goles\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.y = element_blank(),\n    axis.text.x = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid.major.y = element_blank(),\n    panel.grid = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\nmi_grafico\n\n\n\n\n\n\n\n3.2 Goles encajados\nAquí es donde se ganó el mundial. He comparado el promedio de goles encajados por partido de las selecciones que llegaron lejos. Como se ve en el gráfico, la defensa de España fue la mejor, encajando poquísimos goles en comparación con los partidos jugados\n\nCódigolibrary(tidyverse)\nlibrary(ggimage)\nlibrary(countrycode)\n\n\nruta_a_datos_1 &lt;- \"./datos/FIFA - 2010.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\n\ntop_10_grafico &lt;- df_completo %&gt;% \n  rename(equipo = Team, \n         partidos_jugados = `Games Played`, \n         goles_contra = `Goals Against`) %&gt;% \n  mutate(equipo = case_when( equipo == \"England\" ~ \"United Kingdom\",\n                            TRUE ~ equipo)) %&gt;%\n  mutate(Goles_partido = goles_contra / partidos_jugados) %&gt;% \n  select(equipo, partidos_jugados, Goles_partido) %&gt;% \n  filter(partidos_jugados &gt;= 4) %&gt;% \n  arrange(Goles_partido) %&gt;% \n  mutate(iso2 = countrycode(equipo, origin = \"country.name\",\n                            destination = \"iso2c\")) %&gt;% \n  mutate(iso2 = tolower(iso2)) %&gt;% \n  mutate(flag_URL = paste0(\"https://hatscripts.github.io/circle-flags/flags/\", iso2, \".svg\"))\n\n\nmi_grafico &lt;- ggplot(top_10_grafico, aes(x = partidos_jugados, y = Goles_partido)) +\n  theme_minimal() +\n  \n  geom_image(aes(image = flag_URL), size = 0.08, position = position_jitter\n             (width = 0.2, height = 0.02, seed = 123)) + \n  \n  \n  labs(\n    title = \"Las mejores defensas\",\n    x = \"Partidos Jugados\",\n    y = \"Goles encajados\") +\n  scale_x_continuous(breaks = 4:7,                \n                     limits = c(3.5, 7.5),         \n                     expand = c(0, 0)) +\n  scale_y_continuous(expand = expansion(mult = c(0.1, 0.1))) +\n  \n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    panel.grid = element_blank(),\n    panel.grid.minor = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\n\nmi_grafico"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#goles-metidos",
    "href": "my_trabajo_BigDataF.html#goles-metidos",
    "title": "Los pingüinos molan",
    "section": "3.1 Goles metidos",
    "text": "3.1 Goles metidos\n\nCódigolibrary(tidyverse)\nlibrary(janitor)\nlibrary(maps)\nlibrary(plotly)\nlibrary(ggimage)\nlibrary(cropcircles) #install.packages(\"cropcircles\")\nlibrary(magick)    \n\nruta_a_datos_1 &lt;- \"./datos/goalscorers.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\nmundial &lt;- df_completo %&gt;% \nrename(Fecha = date, Equipo_Local = home_team, Equipo_Visitante = away_team\n       , Goleador = scorer) %&gt;% \n  select(Fecha, Equipo_Local, Equipo_Visitante, Goleador) %&gt;% \n  mutate(Fecha = as.Date(Fecha)) %&gt;% \n  filter(between(Fecha, as.Date(\"2010-06-11\") , as.Date(\"2010-07-11\"))) %&gt;% \n  filter(Equipo_Local == \"Spain\"| Equipo_Visitante == \"Spain\") %&gt;% \n  count(Goleador) %&gt;% \n  arrange(desc(n)) %&gt;% \n  head(3)\n\nimagenes_goleadores &lt;- data.frame(\n  Goleador = c(\"David Villa\", \"Andrés Iniesta\", \"Carles Puyol\"),\n  Foto = c(\"villa.jpg\", \"iniesta.png\", \"puyol.jpg\")) %&gt;% \n\n  mutate(logo = file.path(\"imagenes\", Foto))\n\ntop_3 &lt;- left_join(mundial,imagenes_goleadores, by = \"Goleador\") \n\ntop_3 &lt;- top_3 %&gt;%\n  mutate(logo_circular = circle_crop(logo))\n\nmi_grafico &lt;- ggplot(top_3, aes(x = reorder(Goleador, n), y = n)) +\n  geom_col(fill = \"#DD0000\", width = 0.6) +\n  coord_flip() +\n  geom_image(aes(image = logo_circular, y = 0), size = 0.3) +\n  \n  geom_text(aes(label = n), hjust = -0.2, fontface = \"bold\", size = 3.5) +\n  \n  scale_y_continuous(expand = expansion(mult = c(0.2, 0.1))) + \n  \n  labs(\n    title = \"Goleadores de la selección\",\n    subtitle = \"Mundial Sudáfrica 2010\",\n    x = NULL, \n    y = \"Goles\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.y = element_blank(),\n    axis.text.x = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid.major.y = element_blank(),\n    panel.grid = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\nmi_grafico"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#goles-encajados",
    "href": "my_trabajo_BigDataF.html#goles-encajados",
    "title": "Los pingüinos molan",
    "section": "3.2 Goles encajados",
    "text": "3.2 Goles encajados\n\nCódigolibrary(tidyverse)\nlibrary(ggimage)\nlibrary(countrycode)\n\n\nruta_a_datos_1 &lt;- \"./datos/FIFA - 2010.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\n\ntop_10_grafico &lt;- df_completo %&gt;% \n  rename(equipo = Team, \n         partidos_jugados = `Games Played`, \n         goles_contra = `Goals Against`) %&gt;% \n  mutate(equipo = case_when( equipo == \"England\" ~ \"United Kingdom\",\n                            TRUE ~ equipo)) %&gt;%\n  mutate(Goles_partido = goles_contra / partidos_jugados) %&gt;% \n  select(equipo, partidos_jugados, Goles_partido) %&gt;% \n  filter(partidos_jugados &gt;= 4) %&gt;% \n  arrange(Goles_partido) %&gt;% \n  mutate(iso2 = countrycode(equipo, origin = \"country.name\",\n                            destination = \"iso2c\")) %&gt;% \n  mutate(iso2 = tolower(iso2)) %&gt;% \n  mutate(flag_URL = paste0(\"https://hatscripts.github.io/circle-flags/flags/\", iso2, \".svg\"))\n\n\nmi_grafico &lt;- ggplot(top_10_grafico, aes(x = partidos_jugados, y = Goles_partido)) +\n  theme_minimal() +\n  \n  geom_image(aes(image = flag_URL), size = 0.08, position = position_jitter\n             (width = 0.2, height = 0.02, seed = 123)) + \n  \n  \n  labs(\n    title = \"Las mejores defensas\",\n    x = \"Partidos Jugados\",\n    y = \"Goles encajados\") +\n  scale_x_continuous(breaks = 4:7,                \n                     limits = c(3.5, 7.5),         \n                     expand = c(0, 0)) +\n  scale_y_continuous(expand = expansion(mult = c(0.1, 0.1))) +\n  \n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    panel.grid = element_blank(),\n    panel.grid.minor = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\n\nmi_grafico"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#el-gran-momento",
    "href": "my_trabajo_BigDataF.html#el-gran-momento",
    "title": "El mundial de 2010",
    "section": "4. El gran momento",
    "text": "4. El gran momento\nPara el momento más importante del trabajo he querido hacer algo distinto.He cogido una secuencia de fotos del gol de Iniesta y las he unido todas para crear un GIF. Un gol que sin duda marcó la historia de España.\n\nCódigolibrary(magick)\n\nimg1  &lt;- image_read(\"./imagenes/1.png\") %&gt;% image_scale(\"700\")\nimg2  &lt;- image_read(\"./imagenes/2.png\") %&gt;% image_scale(\"700\")\nimg3  &lt;- image_read(\"./imagenes/3.png\") %&gt;% image_scale(\"700\")\nimg4  &lt;- image_read(\"./imagenes/4.png\") %&gt;% image_scale(\"700\")\nimg5  &lt;- image_read(\"./imagenes/5.png\") %&gt;% image_scale(\"700\")\nimg6  &lt;- image_read(\"./imagenes/6.png\") %&gt;% image_scale(\"700\")\nimg7  &lt;- image_read(\"./imagenes/7.png\") %&gt;% image_scale(\"700\")\nimg8  &lt;- image_read(\"./imagenes/8.png\") %&gt;% image_scale(\"700\")\nimg9  &lt;- image_read(\"./imagenes/9.png\") %&gt;% image_scale(\"700\")\nimg10 &lt;- image_read(\"./imagenes/10.png\") %&gt;% image_scale(\"700\")\nimg11 &lt;- image_read(\"./imagenes/11.png\") %&gt;% image_scale(\"700\")\nimg12 &lt;- image_read(\"./imagenes/12.png\") %&gt;% image_scale(\"700\")\nimg13 &lt;- image_read(\"./imagenes/13.png\") %&gt;% image_scale(\"700\")\nimg14 &lt;- image_read(\"./imagenes/14.png\") %&gt;% image_scale(\"700\")\nimg15 &lt;- image_read(\"./imagenes/15.png\") %&gt;% image_scale(\"700\")\n\nequipos_unidos &lt;- image_join(img1, img2, img3, img4, img5, img6, img7, img8, \n                             img9, img10, img11, img12, img13, img14, img15)\n\nimage_animate(image_scale(equipos_unidos), fps = 1)"
  },
  {
    "objectID": "my_trabajo_BigDataF.html#palmarés",
    "href": "my_trabajo_BigDataF.html#palmarés",
    "title": "El mundial de 2010",
    "section": "5. Palmarés",
    "text": "5. Palmarés\nFinalmente, así quedó la tabla histórica de campeones del mundo después de nuestra victoria en 2010. He utilizado una tabla un poco más visual con las banderas y los trofeos que tenía cada país hasta ese año.\n\nCódigolibrary(tidyverse)\nlibrary(gt)\nlibrary(gtExtras)   \nlibrary(countrycode) \n\n\nruta_a_datos_1 &lt;- \"./datos/WorldCups.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\ntabla_preparada &lt;- df_completo %&gt;%\n  filter(Year &lt;= 2010) %&gt;% \n  rename(ganador = Winner) %&gt;%\n  mutate(ganador = case_when( \n    ganador == \"Germany FR\" ~ \"Germany\",\n    ganador == \"England\" ~ \"United Kingdom\",\n    TRUE ~ ganador)) %&gt;% \n  group_by(ganador) %&gt;% \n  summarise(n = n()) %&gt;% \n  arrange(desc(n)) %&gt;% \n  \n  \n  mutate(iso2 = countrycode(ganador, origin = \"country.name\",\n                            destination = \"iso2c\")) %&gt;%\n  mutate(iso2 = tolower(iso2)) %&gt;%\n  mutate(bandera_url = paste0(\"https://hatscripts.github.io/circle-flags/flags/\", iso2, \".svg\")) %&gt;%\n  select(bandera_url, ganador, n)\n\n\n\nmi_tabla_final &lt;- tabla_preparada %&gt;%\n  gt() %&gt;%\n  gt_img_rows(columns = bandera_url, height = 30) %&gt;%\n  cols_label(\n    bandera_url = \"\",\n    ganador = \"Selección\",\n    n = \"Títulos\") %&gt;%\n  tab_header(\n    title = md(\"**Palmarés**\"),\n    subtitle = \"Mundiales ganados hasta 2010\")%&gt;%\n  cols_align(align = \"center\", columns = n) %&gt;%\n  gt_theme_dark() %&gt;%\n  tab_style(\n    style = list(cell_text(weight = \"bold\", color = \"#FFD700\", size = pct(100))),\n    locations = cells_body(columns = n))\n\n\nmi_tabla_final\n\n\n\n\n\n\nPalmarés\n\n\nMundiales ganados hasta 2010\n\n\n\nSelección\nTítulos\n\n\n\n\n\nBrazil\n5\n\n\n\nItaly\n4\n\n\n\nGermany\n3\n\n\n\nArgentina\n2\n\n\n\nUruguay\n2\n\n\n\nFrance\n1\n\n\n\nSpain\n1\n\n\n\nUnited Kingdom\n1\n\n\n\n\n\n\n\n\nCon esto acabo mi trabajo para BigData!!\n\n\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.1 (2025-06-13 ucrt)\n os       Windows 11 x64 (build 26100)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2026-01-05\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\Users\\\\adrib\\\\AppData\\\\Local\\\\Programs\\\\Quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version date (UTC) lib source\n base64enc           0.1-3   2015-07-28 [1] CRAN (R 4.5.0)\n bit                 4.6.0   2025-03-06 [1] CRAN (R 4.5.1)\n bit64               4.6.0-1 2025-01-16 [1] CRAN (R 4.5.1)\n cli                 3.6.5   2025-04-23 [1] CRAN (R 4.5.1)\n clipr               0.8.0   2022-02-22 [1] CRAN (R 4.5.1)\n commonmark          2.0.0   2025-07-07 [1] CRAN (R 4.5.1)\n countrycode       * 1.6.1   2025-03-31 [1] CRAN (R 4.5.1)\n crayon              1.5.3   2024-06-20 [1] CRAN (R 4.5.1)\n cropcircles       * 0.2.4   2023-12-03 [1] CRAN (R 4.5.2)\n crosstalk           1.2.2   2025-08-26 [1] CRAN (R 4.5.1)\n curl                7.0.0   2025-08-19 [1] CRAN (R 4.5.1)\n data.table          1.17.8  2025-07-10 [1] CRAN (R 4.5.1)\n desc                1.4.3   2023-12-10 [1] CRAN (R 4.5.1)\n details             0.4.0   2025-02-09 [1] CRAN (R 4.5.2)\n digest              0.6.37  2024-08-19 [1] CRAN (R 4.5.1)\n dplyr             * 1.1.4   2023-11-17 [1] CRAN (R 4.5.1)\n evaluate            1.0.5   2025-08-27 [1] CRAN (R 4.5.1)\n farver              2.1.2   2024-05-13 [1] CRAN (R 4.5.1)\n fastmap             1.2.0   2024-05-15 [1] CRAN (R 4.5.1)\n fontawesome         0.5.3   2024-11-16 [1] CRAN (R 4.5.1)\n fontBitstreamVera   0.1.1   2017-02-01 [1] CRAN (R 4.5.2)\n fontLiberation      0.1.0   2016-10-15 [1] CRAN (R 4.5.2)\n fontquiver          0.2.1   2017-02-01 [1] CRAN (R 4.5.2)\n forcats           * 1.0.0   2023-01-29 [1] CRAN (R 4.5.1)\n fs                  1.6.6   2025-04-12 [1] CRAN (R 4.5.1)\n gdtools             0.4.4   2025-10-06 [1] CRAN (R 4.5.2)\n generics            0.1.4   2025-05-09 [1] CRAN (R 4.5.1)\n ggfun               0.2.0   2025-07-15 [1] CRAN (R 4.5.2)\n ggimage           * 0.3.4   2025-08-24 [1] CRAN (R 4.5.2)\n ggiraph             0.9.2   2025-10-07 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.0   2025-09-11 [1] CRAN (R 4.5.1)\n ggplotify           0.1.3   2025-09-20 [1] CRAN (R 4.5.2)\n glue                1.8.0   2024-09-30 [1] CRAN (R 4.5.1)\n gridGraphics        0.5-1   2020-12-13 [1] CRAN (R 4.5.1)\n gt                * 1.0.0   2025-04-05 [1] CRAN (R 4.5.1)\n gtable              0.3.6   2024-10-25 [1] CRAN (R 4.5.1)\n gtExtras          * 0.6.0   2025-05-29 [1] CRAN (R 4.5.1)\n hms                 1.1.3   2023-03-21 [1] CRAN (R 4.5.1)\n htmltools           0.5.8.1 2024-04-04 [1] CRAN (R 4.5.1)\n htmlwidgets         1.6.4   2023-12-06 [1] CRAN (R 4.5.1)\n httr                1.4.7   2023-08-15 [1] CRAN (R 4.5.1)\n janitor           * 2.2.1   2024-12-22 [1] CRAN (R 4.5.1)\n jsonlite            2.0.0   2025-03-27 [1] CRAN (R 4.5.1)\n knitr               1.50    2025-03-16 [1] CRAN (R 4.5.1)\n labeling            0.4.3   2023-08-29 [1] CRAN (R 4.5.0)\n lazyeval            0.2.2   2019-03-15 [1] CRAN (R 4.5.1)\n lifecycle           1.0.4   2023-11-07 [1] CRAN (R 4.5.1)\n litedown            0.7     2025-04-08 [1] CRAN (R 4.5.1)\n lubridate         * 1.9.4   2024-12-08 [1] CRAN (R 4.5.1)\n magick            * 2.9.0   2025-09-08 [1] CRAN (R 4.5.1)\n magrittr            2.0.4   2025-09-12 [1] CRAN (R 4.5.1)\n maps              * 3.4.3   2025-05-26 [1] CRAN (R 4.5.1)\n markdown            2.0     2025-03-23 [1] CRAN (R 4.5.1)\n paletteer           1.6.0   2024-01-21 [1] CRAN (R 4.5.1)\n pillar              1.11.1  2025-09-17 [1] CRAN (R 4.5.1)\n pkgconfig           2.0.3   2019-09-22 [1] CRAN (R 4.5.1)\n plotly            * 4.11.0  2025-06-19 [1] CRAN (R 4.5.1)\n png                 0.1-8   2022-11-29 [1] CRAN (R 4.5.2)\n purrr             * 1.1.0   2025-07-10 [1] CRAN (R 4.5.1)\n R6                  2.6.1   2025-02-15 [1] CRAN (R 4.5.1)\n rappdirs            0.3.3   2021-01-31 [1] CRAN (R 4.5.1)\n RColorBrewer        1.1-3   2022-04-03 [1] CRAN (R 4.5.0)\n Rcpp                1.1.0   2025-07-02 [1] CRAN (R 4.5.1)\n readr             * 2.1.5   2024-01-10 [1] CRAN (R 4.5.1)\n rematch2            2.1.2   2020-05-01 [1] CRAN (R 4.5.1)\n rlang               1.1.6   2025-04-11 [1] CRAN (R 4.5.1)\n rmarkdown           2.29    2024-11-04 [1] CRAN (R 4.5.1)\n rstudioapi          0.17.1  2024-10-22 [1] CRAN (R 4.5.1)\n rsvg                2.7.0   2025-09-08 [1] CRAN (R 4.5.2)\n S7                  0.2.0   2024-11-07 [1] CRAN (R 4.5.1)\n sass                0.4.10  2025-04-11 [1] CRAN (R 4.5.1)\n scales              1.4.0   2025-04-24 [1] CRAN (R 4.5.1)\n sessioninfo         1.2.3   2025-02-05 [1] CRAN (R 4.5.1)\n snakecase           0.11.1  2023-08-27 [1] CRAN (R 4.5.1)\n stringi             1.8.7   2025-03-27 [1] CRAN (R 4.5.0)\n stringr           * 1.5.2   2025-09-08 [1] CRAN (R 4.5.1)\n systemfonts         1.3.1   2025-10-01 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0   2025-06-08 [1] CRAN (R 4.5.1)\n tidyr             * 1.3.1   2024-01-24 [1] CRAN (R 4.5.1)\n tidyselect          1.2.1   2024-03-11 [1] CRAN (R 4.5.1)\n tidyverse         * 2.0.0   2023-02-22 [1] CRAN (R 4.5.1)\n timechange          0.3.0   2024-01-18 [1] CRAN (R 4.5.1)\n tzdb                0.5.0   2025-03-15 [1] CRAN (R 4.5.1)\n vctrs               0.6.5   2023-12-01 [1] CRAN (R 4.5.1)\n viridisLite         0.4.2   2023-05-02 [1] CRAN (R 4.5.1)\n vroom               1.6.6   2025-09-19 [1] CRAN (R 4.5.1)\n withr               3.0.2   2024-10-28 [1] CRAN (R 4.5.1)\n xfun                0.53    2025-08-19 [1] CRAN (R 4.5.1)\n xml2                1.4.0   2025-08-20 [1] CRAN (R 4.5.1)\n yaml                2.3.10  2024-07-26 [1] CRAN (R 4.5.0)\n yulab.utils         0.2.2   2025-12-01 [1] CRAN (R 4.5.1)\n\n [1] C:/Users/adrib/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.1/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_trabajo_BigData.html#lugar",
    "href": "my_trabajo_BigData.html#lugar",
    "title": "La primera de España",
    "section": "1. Lugar",
    "text": "1. Lugar\nEl mundial se jugó en Sudáfrica. Fue la primera vez que se hacía en África y se utilizaron 10 estadios diferentes. He creado este mapa interactivo para situar las ciudades y los estadios donde se jugaron los partidos.\n\nCódigolibrary(tidyverse)\nlibrary(janitor)\nlibrary(maps)\nlibrary(plotly)\n\n\nruta_a_datos_1 &lt;- \"./datos/FIFA_World_Cup_1558_23.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\naño_2010 &lt;- df_completo %&gt;%\n  rename(Año = Year, Ciudad = City, Estadio = Stadium) %&gt;% \n  select(Año, Estadio, Ciudad) %&gt;% \n  filter(Año == 2010) %&gt;%\n  group_by(Ciudad, Estadio) %&gt;% \n  mutate(Ciudad = case_when( \n    Ciudad ==\"Mangaung/Bloemfontein\" ~ \"Bloemfontein\",\n    Ciudad == \"Nelson Mandela Bay/Port Elizabeth\" ~ \"Port Elizabeth\",\n    Ciudad == \"Polokwane\" ~ \"Pietersburg\", \n    Ciudad == \"Tshwane/Pretoria\" ~ \"Pretoria\", \n    Ciudad == \"Phokeng\" ~ \"Rustenburg\",\n    TRUE ~ Ciudad)) %&gt;% \n  slice(1) %&gt;%\n  ungroup()\n\n\ndata(world.cities)\ncoords_sudafrica &lt;- world.cities %&gt;%\n  filter(country.etc == \"South Africa\") %&gt;%\n  select(name, lat, long)\n\nmapa_finales &lt;- año_2010 %&gt;% \n  left_join(coords_sudafrica, by = c(\"Ciudad\" = \"name\")) \n\n\nmap_plot &lt;- plot_geo(data = mapa_finales,\n                     lat = ~lat,   \n                     lon = ~long) %&gt;% \n  \n  add_markers(\n    text = ~paste(\"&lt;b&gt;Ciudad:&lt;/b&gt;\", Ciudad, \"&lt;br&gt;\",\n                  \"&lt;b&gt;Estadio:&lt;/b&gt;\", Estadio),\n    color = I(\"#D32F2F\"), \n    size = I(12),   \n    marker = list(\n      line = list(color = \"white\", width = 0.5),\n    hoverinfo = \"text\")) %&gt;%\n  \n  layout(\n    title = \"Sedes Mundial Sudáfrica 2010\",\n    geo = list(\n      scope = 'africa',   \n      showframe = FALSE,\n      showland = TRUE,\n      landcolor = \"#F0F0F0\",\n      showocean = TRUE,\n      oceancolor = \"#B3E5FC\",\n      countrycolor = \"white\",\n      lonaxis = list(range = c(16, 33)), \n      lataxis = list(range = c(-35, -22))\n    )\n  ) %&gt;%\n  config(displayModeBar = FALSE)\n\n\nmap_plot"
  },
  {
    "objectID": "my_trabajo_BigData.html#el-gran-momento",
    "href": "my_trabajo_BigData.html#el-gran-momento",
    "title": "La primera de España",
    "section": "4. El gran momento",
    "text": "4. El gran momento\nPara el momento más importante del trabajo he querido hacer algo distinto.He cogido una secuencia de fotos del gol de Iniesta y las he unido todas para crear un GIF. Un gol que sin duda marcó la historia de España.\n\nCódigolibrary(magick)\n\nimg1  &lt;- image_read(\"./imagenes/1.png\") %&gt;% image_scale(\"700\")\nimg2  &lt;- image_read(\"./imagenes/2.png\") %&gt;% image_scale(\"700\")\nimg3  &lt;- image_read(\"./imagenes/3.png\") %&gt;% image_scale(\"700\")\nimg4  &lt;- image_read(\"./imagenes/4.png\") %&gt;% image_scale(\"700\")\nimg5  &lt;- image_read(\"./imagenes/5.png\") %&gt;% image_scale(\"700\")\nimg6  &lt;- image_read(\"./imagenes/6.png\") %&gt;% image_scale(\"700\")\nimg7  &lt;- image_read(\"./imagenes/7.png\") %&gt;% image_scale(\"700\")\nimg8  &lt;- image_read(\"./imagenes/8.png\") %&gt;% image_scale(\"700\")\nimg9  &lt;- image_read(\"./imagenes/9.png\") %&gt;% image_scale(\"700\")\nimg10 &lt;- image_read(\"./imagenes/10.png\") %&gt;% image_scale(\"700\")\nimg11 &lt;- image_read(\"./imagenes/11.png\") %&gt;% image_scale(\"700\")\nimg12 &lt;- image_read(\"./imagenes/12.png\") %&gt;% image_scale(\"700\")\nimg13 &lt;- image_read(\"./imagenes/13.png\") %&gt;% image_scale(\"700\")\nimg14 &lt;- image_read(\"./imagenes/14.png\") %&gt;% image_scale(\"700\")\nimg15 &lt;- image_read(\"./imagenes/15.png\") %&gt;% image_scale(\"700\")\n\nequipos_unidos &lt;- image_join(img1, img2, img3, img4, img5, img6, img7, img8, \n                             img9, img10, img11, img12, img13, img14, img15)\n\nimage_animate(image_scale(equipos_unidos), fps = 1)"
  },
  {
    "objectID": "my_trabajo_BigData.html#palmarés",
    "href": "my_trabajo_BigData.html#palmarés",
    "title": "La primera de España",
    "section": "5. Palmarés",
    "text": "5. Palmarés\nFinalmente, así quedó la tabla histórica de campeones del mundo después de nuestra victoria en 2010. He utilizado una tabla un poco más visual con las banderas y los trofeos que tenía cada país hasta ese año.\n\nCódigolibrary(tidyverse)\nlibrary(gt)\nlibrary(gtExtras)   \nlibrary(countrycode) \n\n\nruta_a_datos_1 &lt;- \"./datos/WorldCups.csv\"\ndf_completo &lt;- read_csv(ruta_a_datos_1)\ntabla_preparada &lt;- df_completo %&gt;%\n  filter(Year &lt;= 2010) %&gt;% \n  rename(ganador = Winner) %&gt;%\n  mutate(ganador = case_when( \n    ganador == \"Germany FR\" ~ \"Germany\",\n    ganador == \"England\" ~ \"United Kingdom\",\n    TRUE ~ ganador)) %&gt;% \n  group_by(ganador) %&gt;% \n  summarise(n = n()) %&gt;% \n  arrange(desc(n)) %&gt;% \n  \n  \n  mutate(iso2 = countrycode(ganador, origin = \"country.name\",\n                            destination = \"iso2c\")) %&gt;%\n  mutate(iso2 = tolower(iso2)) %&gt;%\n  mutate(bandera_url = paste0(\"https://hatscripts.github.io/circle-flags/flags/\", iso2, \".svg\")) %&gt;%\n  select(bandera_url, ganador, n)\n\n\n\nmi_tabla_final &lt;- tabla_preparada %&gt;%\n  gt() %&gt;%\n  gt_img_rows(columns = bandera_url, height = 30) %&gt;%\n  cols_label(\n    bandera_url = \"\",\n    ganador = \"Selección\",\n    n = \"Títulos\") %&gt;%\n  tab_header(\n    title = md(\"**Palmarés**\"),\n    subtitle = \"Mundiales ganados hasta 2010\")%&gt;%\n  cols_align(align = \"center\", columns = n) %&gt;%\n  gt_theme_dark() %&gt;%\n  tab_style(\n    style = list(cell_text(weight = \"bold\", color = \"#FFD700\", size = pct(100))),\n    locations = cells_body(columns = n))\n\n\nmi_tabla_final\n\n\n\n\n\n\nPalmarés\n\n\nMundiales ganados hasta 2010\n\n\n\nSelección\nTítulos\n\n\n\n\n\nBrazil\n5\n\n\n\nItaly\n4\n\n\n\nGermany\n3\n\n\n\nArgentina\n2\n\n\n\nUruguay\n2\n\n\n\nFrance\n1\n\n\n\nSpain\n1\n\n\n\nUnited Kingdom\n1\n\n\n\n\n\n\n\n\nCon esto acabo mi trabajo para BigData!!\n\n\n\nInformación sobre la sesión\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.1 (2025-06-13 ucrt)\n os       Windows 11 x64 (build 26100)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2026-01-05\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\Users\\\\adrib\\\\AppData\\\\Local\\\\Programs\\\\Quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version date (UTC) lib source\n base64enc           0.1-3   2015-07-28 [1] CRAN (R 4.5.0)\n bit                 4.6.0   2025-03-06 [1] CRAN (R 4.5.1)\n bit64               4.6.0-1 2025-01-16 [1] CRAN (R 4.5.1)\n cli                 3.6.5   2025-04-23 [1] CRAN (R 4.5.1)\n clipr               0.8.0   2022-02-22 [1] CRAN (R 4.5.1)\n commonmark          2.0.0   2025-07-07 [1] CRAN (R 4.5.1)\n countrycode       * 1.6.1   2025-03-31 [1] CRAN (R 4.5.1)\n crayon              1.5.3   2024-06-20 [1] CRAN (R 4.5.1)\n cropcircles       * 0.2.4   2023-12-03 [1] CRAN (R 4.5.2)\n crosstalk           1.2.2   2025-08-26 [1] CRAN (R 4.5.1)\n curl                7.0.0   2025-08-19 [1] CRAN (R 4.5.1)\n data.table          1.17.8  2025-07-10 [1] CRAN (R 4.5.1)\n desc                1.4.3   2023-12-10 [1] CRAN (R 4.5.1)\n details             0.4.0   2025-02-09 [1] CRAN (R 4.5.2)\n digest              0.6.37  2024-08-19 [1] CRAN (R 4.5.1)\n dplyr             * 1.1.4   2023-11-17 [1] CRAN (R 4.5.1)\n evaluate            1.0.5   2025-08-27 [1] CRAN (R 4.5.1)\n farver              2.1.2   2024-05-13 [1] CRAN (R 4.5.1)\n fastmap             1.2.0   2024-05-15 [1] CRAN (R 4.5.1)\n fontawesome         0.5.3   2024-11-16 [1] CRAN (R 4.5.1)\n fontBitstreamVera   0.1.1   2017-02-01 [1] CRAN (R 4.5.2)\n fontLiberation      0.1.0   2016-10-15 [1] CRAN (R 4.5.2)\n fontquiver          0.2.1   2017-02-01 [1] CRAN (R 4.5.2)\n forcats           * 1.0.0   2023-01-29 [1] CRAN (R 4.5.1)\n fs                  1.6.6   2025-04-12 [1] CRAN (R 4.5.1)\n gdtools             0.4.4   2025-10-06 [1] CRAN (R 4.5.2)\n generics            0.1.4   2025-05-09 [1] CRAN (R 4.5.1)\n ggfun               0.2.0   2025-07-15 [1] CRAN (R 4.5.2)\n ggimage           * 0.3.4   2025-08-24 [1] CRAN (R 4.5.2)\n ggiraph             0.9.2   2025-10-07 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.0   2025-09-11 [1] CRAN (R 4.5.1)\n ggplotify           0.1.3   2025-09-20 [1] CRAN (R 4.5.2)\n glue                1.8.0   2024-09-30 [1] CRAN (R 4.5.1)\n gridGraphics        0.5-1   2020-12-13 [1] CRAN (R 4.5.1)\n gt                * 1.0.0   2025-04-05 [1] CRAN (R 4.5.1)\n gtable              0.3.6   2024-10-25 [1] CRAN (R 4.5.1)\n gtExtras          * 0.6.0   2025-05-29 [1] CRAN (R 4.5.1)\n hms                 1.1.3   2023-03-21 [1] CRAN (R 4.5.1)\n htmltools           0.5.8.1 2024-04-04 [1] CRAN (R 4.5.1)\n htmlwidgets         1.6.4   2023-12-06 [1] CRAN (R 4.5.1)\n httr                1.4.7   2023-08-15 [1] CRAN (R 4.5.1)\n janitor           * 2.2.1   2024-12-22 [1] CRAN (R 4.5.1)\n jsonlite            2.0.0   2025-03-27 [1] CRAN (R 4.5.1)\n knitr               1.50    2025-03-16 [1] CRAN (R 4.5.1)\n labeling            0.4.3   2023-08-29 [1] CRAN (R 4.5.0)\n lazyeval            0.2.2   2019-03-15 [1] CRAN (R 4.5.1)\n lifecycle           1.0.4   2023-11-07 [1] CRAN (R 4.5.1)\n litedown            0.7     2025-04-08 [1] CRAN (R 4.5.1)\n lubridate         * 1.9.4   2024-12-08 [1] CRAN (R 4.5.1)\n magick            * 2.9.0   2025-09-08 [1] CRAN (R 4.5.1)\n magrittr            2.0.4   2025-09-12 [1] CRAN (R 4.5.1)\n maps              * 3.4.3   2025-05-26 [1] CRAN (R 4.5.1)\n markdown            2.0     2025-03-23 [1] CRAN (R 4.5.1)\n paletteer           1.6.0   2024-01-21 [1] CRAN (R 4.5.1)\n pillar              1.11.1  2025-09-17 [1] CRAN (R 4.5.1)\n pkgconfig           2.0.3   2019-09-22 [1] CRAN (R 4.5.1)\n plotly            * 4.11.0  2025-06-19 [1] CRAN (R 4.5.1)\n png                 0.1-8   2022-11-29 [1] CRAN (R 4.5.2)\n purrr             * 1.1.0   2025-07-10 [1] CRAN (R 4.5.1)\n R6                  2.6.1   2025-02-15 [1] CRAN (R 4.5.1)\n rappdirs            0.3.3   2021-01-31 [1] CRAN (R 4.5.1)\n RColorBrewer        1.1-3   2022-04-03 [1] CRAN (R 4.5.0)\n Rcpp                1.1.0   2025-07-02 [1] CRAN (R 4.5.1)\n readr             * 2.1.5   2024-01-10 [1] CRAN (R 4.5.1)\n rematch2            2.1.2   2020-05-01 [1] CRAN (R 4.5.1)\n rlang               1.1.6   2025-04-11 [1] CRAN (R 4.5.1)\n rmarkdown           2.29    2024-11-04 [1] CRAN (R 4.5.1)\n rstudioapi          0.17.1  2024-10-22 [1] CRAN (R 4.5.1)\n rsvg                2.7.0   2025-09-08 [1] CRAN (R 4.5.2)\n S7                  0.2.0   2024-11-07 [1] CRAN (R 4.5.1)\n sass                0.4.10  2025-04-11 [1] CRAN (R 4.5.1)\n scales              1.4.0   2025-04-24 [1] CRAN (R 4.5.1)\n sessioninfo         1.2.3   2025-02-05 [1] CRAN (R 4.5.1)\n snakecase           0.11.1  2023-08-27 [1] CRAN (R 4.5.1)\n stringi             1.8.7   2025-03-27 [1] CRAN (R 4.5.0)\n stringr           * 1.5.2   2025-09-08 [1] CRAN (R 4.5.1)\n systemfonts         1.3.1   2025-10-01 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0   2025-06-08 [1] CRAN (R 4.5.1)\n tidyr             * 1.3.1   2024-01-24 [1] CRAN (R 4.5.1)\n tidyselect          1.2.1   2024-03-11 [1] CRAN (R 4.5.1)\n tidyverse         * 2.0.0   2023-02-22 [1] CRAN (R 4.5.1)\n timechange          0.3.0   2024-01-18 [1] CRAN (R 4.5.1)\n tzdb                0.5.0   2025-03-15 [1] CRAN (R 4.5.1)\n vctrs               0.6.5   2023-12-01 [1] CRAN (R 4.5.1)\n viridisLite         0.4.2   2023-05-02 [1] CRAN (R 4.5.1)\n vroom               1.6.6   2025-09-19 [1] CRAN (R 4.5.1)\n withr               3.0.2   2024-10-28 [1] CRAN (R 4.5.1)\n xfun                0.53    2025-08-19 [1] CRAN (R 4.5.1)\n xml2                1.4.0   2025-08-20 [1] CRAN (R 4.5.1)\n yaml                2.3.10  2024-07-26 [1] CRAN (R 4.5.0)\n yulab.utils         0.2.2   2025-12-01 [1] CRAN (R 4.5.1)\n\n [1] C:/Users/adrib/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.1/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  }
]